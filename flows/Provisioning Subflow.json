[
    {
        "id": "6d42dc07fde7a1cc",
        "type": "subflow",
        "name": "Provision Axis Devices",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 160,
                "y": 260,
                "wires": [
                    {
                        "id": "383b9a93f24e6216"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1640,
                "y": 80,
                "wires": [
                    {
                        "id": "fd813139961b13e6",
                        "port": 0
                    }
                ]
            },
            {
                "x": 1640,
                "y": 140,
                "wires": [
                    {
                        "id": "abb41098846a6d4f",
                        "port": 0
                    }
                ]
            },
            {
                "x": 1640,
                "y": 200,
                "wires": [
                    {
                        "id": "3776a78bd7fa1121",
                        "port": 0
                    },
                    {
                        "id": "09eb56c5433ca289",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#DDAA99"
    },
    {
        "id": "fd813139961b13e6",
        "type": "link in",
        "z": "6d42dc07fde7a1cc",
        "name": "Status",
        "links": [
            "86f6386639b15843",
            "b50e7b02443376c8",
            "bd72b0798c38476b",
            "1ed901bb2d60f372",
            "0327886d739088cf",
            "b394e947f04ed845",
            "ef8068ebc24255c8",
            "2c09d5934cbea73d",
            "5cbe2c8aec429365",
            "4ce411a28344825f",
            "27b9e191d499b6fa",
            "7a8a016369547c0d",
            "a914e97901ad4b46",
            "e9fd1c3655856e43",
            "2d135a059bc91f5a",
            "b69e37aa5637dd2a"
        ],
        "x": 1325,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "6d500eec20e0cb44",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "name": "Status",
        "info": "",
        "x": 1430,
        "y": 80,
        "wires": []
    },
    {
        "id": "3776a78bd7fa1121",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "name": "",
        "scope": null,
        "uncaught": true,
        "x": 1460,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "845b3e302add8ec2",
        "type": "link in",
        "z": "6d42dc07fde7a1cc",
        "name": "Complete",
        "links": [
            "287cb6ace8dd5738",
            "a7749da08ce3e47f"
        ],
        "x": 1325,
        "y": 140,
        "wires": [
            [
                "abb41098846a6d4f"
            ]
        ]
    },
    {
        "id": "abb41098846a6d4f",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "name": "Complete",
        "func": "msg.topic = \"complete\";\nmsg.payload = msg.device.serial + \": Complete\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1440,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "09eb56c5433ca289",
        "type": "link in",
        "z": "6d42dc07fde7a1cc",
        "name": "Error",
        "links": [
            "513453f276e3a282",
            "a046d81f10eda1c3",
            "b140dac7fe10c821",
            "7ac0cedb1a0b201b",
            "ef38d10d217420d9",
            "8ff1928427dce605",
            "260cd8d309dbc4aa",
            "28ec561f15f256b9",
            "2c4deac222e3fbbd",
            "f20936e41e089c90",
            "264bf28f05b34886",
            "464ce93ffda28994",
            "4b4c762e53e11db4",
            "4210033e5d07d764",
            "92d5e426761fce79",
            "708821c344dc7e0b",
            "1df12383b2cb3f3f",
            "cd4752f49798dd90"
        ],
        "x": 1325,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "55183c191b5d8f63",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "name": "Error",
        "info": "",
        "x": 1430,
        "y": 200,
        "wires": []
    },
    {
        "id": "3b62128532d5aeb9",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "Device",
        "mode": "link",
        "links": [
            "773f04297567b96c"
        ],
        "x": 1315,
        "y": 380,
        "wires": []
    },
    {
        "id": "4c464421bee987f4",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "name": "For Each Device",
        "info": "",
        "x": 1190,
        "y": 380,
        "wires": []
    },
    {
        "id": "7378b410d759be55",
        "type": "link in",
        "z": "6d42dc07fde7a1cc",
        "name": "Set Name",
        "links": [
            "6a23745199b4164d"
        ],
        "x": 165,
        "y": 880,
        "wires": [
            [
                "6a05cec52d783c6c"
            ]
        ]
    },
    {
        "id": "c53bd50812c8963c",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 85",
        "mode": "link",
        "links": [
            "8d339a2b584c2236"
        ],
        "x": 775,
        "y": 960,
        "wires": []
    },
    {
        "id": "773f04297567b96c",
        "type": "link in",
        "z": "6d42dc07fde7a1cc",
        "name": "Add accounts",
        "links": [
            "3b62128532d5aeb9"
        ],
        "x": 165,
        "y": 600,
        "wires": [
            [
                "0cd25956a30d47e8"
            ]
        ]
    },
    {
        "id": "6a23745199b4164d",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 76",
        "mode": "link",
        "links": [
            "7378b410d759be55"
        ],
        "x": 1235,
        "y": 720,
        "wires": []
    },
    {
        "id": "fedb62295cb46bad",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": Account \" + msg.config.accounts[0].name + \" set\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 600,
        "wires": [
            [
                "284779d89bfd4a43"
            ]
        ]
    },
    {
        "id": "b50e7b02443376c8",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 90",
        "mode": "link",
        "links": [
            "fd813139961b13e6"
        ],
        "x": 775,
        "y": 880,
        "wires": []
    },
    {
        "id": "86f6386639b15843",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 89",
        "mode": "link",
        "links": [
            "fd813139961b13e6"
        ],
        "x": 1235,
        "y": 600,
        "wires": []
    },
    {
        "id": "b140dac7fe10c821",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 121",
        "mode": "link",
        "links": [
            "09eb56c5433ca289"
        ],
        "x": 1155,
        "y": 320,
        "wires": []
    },
    {
        "id": "7ac0cedb1a0b201b",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 122",
        "mode": "link",
        "links": [
            "09eb56c5433ca289"
        ],
        "x": 1235,
        "y": 680,
        "wires": []
    },
    {
        "id": "ef38d10d217420d9",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 123",
        "mode": "link",
        "links": [
            "09eb56c5433ca289"
        ],
        "x": 775,
        "y": 920,
        "wires": []
    },
    {
        "id": "2a92c1df94c52f99",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "9de2a8dc468dc27d",
        "name": "For Each Cameras",
        "func": "msg.inventory.forEach(function(device){\n    msg.address = device.address;\n    msg.properties = device.properties || null;\n    node.send(msg);\n});\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 260,
        "wires": [
            [
                "eb82c7d924529a7d"
            ]
        ]
    },
    {
        "id": "eb82c7d924529a7d",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "9de2a8dc468dc27d",
        "name": "Main Account",
        "func": "if (!msg.config.hasOwnProperty(\"accounts\") || !msg.config.accounts || !Array.isArray(msg.config.accounts)) {\n    node.error(\"Invalid accounts in config config\", msg);\n    return;\n}\n\nif( msg.config.accounts.length === 0 ) {\n    node.error(\"No accounts defined\", msg);\n    return;\n}\n\nif (!msg.config.accounts[0].hasOwnProperty(\"name\") || msg.config.accounts[0].name.length < 2) {\n    node.error(\"Invalid account name\", msg);\n    return;\n}\n\nif (!msg.config.accounts[0].hasOwnProperty(\"password\") || msg.config.accounts[0].password.length < 5) {\n    node.error(\"Invalid account password\", msg);\n    return;\n}\n\nmsg.user = msg.config.accounts[0].name;\nmsg.password = msg.config.accounts[0].password;\n\nmsg.payload = {\n    \"name\": msg.user,\n    \"password\": msg.password,\n    \"privileges\": \"Admin\"\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 260,
        "wires": [
            [
                "2378dac01bc66cbe"
            ]
        ]
    },
    {
        "id": "2378dac01bc66cbe",
        "type": "Axis Security",
        "z": "6d42dc07fde7a1cc",
        "g": "9de2a8dc468dc27d",
        "name": "",
        "preset": "1af13a1540441ff9",
        "address": "",
        "action": "Set account",
        "data": "",
        "options": "",
        "x": 1000,
        "y": 260,
        "wires": [
            [
                "e835de82705c59d4"
            ]
        ]
    },
    {
        "id": "e835de82705c59d4",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "9de2a8dc468dc27d",
        "name": "",
        "preset": "1af13a1540441ff9",
        "action": "Device Info",
        "cgi": "",
        "data": "",
        "options": "",
        "filename": "",
        "x": 340,
        "y": 320,
        "wires": [
            [
                "7b07172630012798"
            ]
        ]
    },
    {
        "id": "7b07172630012798",
        "type": "change",
        "z": "6d42dc07fde7a1cc",
        "g": "9de2a8dc468dc27d",
        "name": "msg.device",
        "rules": [
            {
                "t": "set",
                "p": "device",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 320,
        "wires": [
            [
                "b5a396e8af47cbce"
            ]
        ]
    },
    {
        "id": "04da01c2a62e70c1",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "g": "9de2a8dc468dc27d",
        "name": "Run staging",
        "info": "",
        "x": 310,
        "y": 200,
        "wires": []
    },
    {
        "id": "b5a396e8af47cbce",
        "type": "Axis camera",
        "z": "6d42dc07fde7a1cc",
        "g": "9de2a8dc468dc27d",
        "name": "",
        "preset": "1af13a1540441ff9",
        "action": "Camera Info",
        "resolution": "640x360",
        "output": "Base64",
        "filename": "",
        "options": "",
        "data": "",
        "x": 340,
        "y": 380,
        "wires": [
            [
                "53c4af674a2ad7e9"
            ]
        ]
    },
    {
        "id": "53c4af674a2ad7e9",
        "type": "change",
        "z": "6d42dc07fde7a1cc",
        "g": "9de2a8dc468dc27d",
        "name": "msg.camera",
        "rules": [
            {
                "t": "set",
                "p": "camera",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 380,
        "wires": [
            [
                "ab4e9cb6a96e757f"
            ]
        ]
    },
    {
        "id": "f9a8b6191b7a9e32",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "9de2a8dc468dc27d",
        "name": "",
        "scope": [
            "b5a396e8af47cbce"
        ],
        "uncaught": false,
        "x": 330,
        "y": 420,
        "wires": [
            [
                "7babae1036c352ba"
            ]
        ]
    },
    {
        "id": "7babae1036c352ba",
        "type": "change",
        "z": "6d42dc07fde7a1cc",
        "g": "9de2a8dc468dc27d",
        "name": "msg.camera",
        "rules": [
            {
                "t": "set",
                "p": "camera",
                "pt": "msg",
                "to": "null",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 420,
        "wires": [
            [
                "ab4e9cb6a96e757f"
            ]
        ]
    },
    {
        "id": "383b9a93f24e6216",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "9de2a8dc468dc27d",
        "name": "Validate",
        "func": "if(!msg.config || typeof msg.config !== \"object\"){\n    node.error(\"config undefined\", msg);\n    return;\n}\n\nif(!msg.inventory || !Array.isArray(msg.inventory) || msg.inventory.length === 0){\n    node.error(\"inventory undefined\", msg);\n    return;\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 260,
        "wires": [
            [
                "2a92c1df94c52f99"
            ]
        ]
    },
    {
        "id": "e149251e9b5c44f8",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "9de2a8dc468dc27d",
        "name": "",
        "scope": [
            "2378dac01bc66cbe",
            "e835de82705c59d4"
        ],
        "uncaught": false,
        "x": 840,
        "y": 320,
        "wires": [
            [
                "b140dac7fe10c821"
            ]
        ]
    },
    {
        "id": "1a542f4711a04456",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "160292bcf3ba9f12",
        "name": "",
        "preset": "1af13a1540441ff9",
        "action": "Set name",
        "cgi": "",
        "data": "",
        "options": "",
        "filename": "",
        "x": 470,
        "y": 880,
        "wires": [
            [
                "bc28372692a805f6",
                "661d3411a2dc597f"
            ]
        ]
    },
    {
        "id": "8de8c2c2aff671bc",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "g": "160292bcf3ba9f12",
        "name": "Set name for host, PnP and Bonjour",
        "info": "",
        "x": 380,
        "y": 820,
        "wires": []
    },
    {
        "id": "661d3411a2dc597f",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "160292bcf3ba9f12",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": Name set to \" + msg.properties.name;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 880,
        "wires": [
            [
                "b50e7b02443376c8"
            ]
        ]
    },
    {
        "id": "6a05cec52d783c6c",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "160292bcf3ba9f12",
        "name": "Name",
        "func": "if( !msg.hasOwnProperty(\"properties\") || !msg.properties  ) {\n    node.send([null,msg]);\n    return;\n}\n\nif( !msg.properties.hasOwnProperty(\"name\") || !msg.properties.name || typeof msg.properties.name !== \"string\" || msg.properties.name.length < 2 ) {\n    node.send([null,msg]);\n    return;\n}\n\nmsg.payload = msg.properties.name;\nnode.send([msg],null);\n",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 880,
        "wires": [
            [
                "1a542f4711a04456"
            ],
            [
                "3d59d6f75fe13c73"
            ]
        ]
    },
    {
        "id": "610f047bdc918815",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "160292bcf3ba9f12",
        "name": "",
        "scope": [
            "1a542f4711a04456"
        ],
        "uncaught": false,
        "x": 470,
        "y": 920,
        "wires": [
            [
                "ef38d10d217420d9",
                "bc28372692a805f6"
            ]
        ]
    },
    {
        "id": "0cd25956a30d47e8",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "1f6d3d3e06abb06d",
        "name": "2:nd Account",
        "func": "if( msg.config.accounts.length < 2 ) {\n    node.send([null,msg]);\n    return;\n}\n\nif( !msg.config.accounts[1].hasOwnProperty(\"name\") || !msg.config.accounts[1].name || msg.config.accounts[1].name.length < 2 ) {\n    node.send([null,msg]);\n    return;\n}\n\nif( !msg.config.accounts[1].hasOwnProperty(\"password\") || !msg.config.accounts[1].password || msg.config.accounts[1].password.length < 2 ) {\n    node.send([null,msg]);\n    return;\n}\n\n\nmsg.payload = {\n    name: msg.config.accounts[1].name,\n    password: msg.config.accounts[1].password,\n    privileges: msg.config.accounts[1].privileges\n}\nnode.send([msg,null]);",
        "outputs": 2,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 600,
        "wires": [
            [
                "3c7fdce98cf5e740"
            ],
            [
                "93ec3d32460c577e"
            ]
        ]
    },
    {
        "id": "3c7fdce98cf5e740",
        "type": "Axis Security",
        "z": "6d42dc07fde7a1cc",
        "g": "1f6d3d3e06abb06d",
        "name": "",
        "preset": "1af13a1540441ff9",
        "address": "",
        "action": "Set account",
        "data": "",
        "options": "",
        "x": 550,
        "y": 600,
        "wires": [
            [
                "816b3d705c37daf1",
                "fedb62295cb46bad"
            ]
        ]
    },
    {
        "id": "816b3d705c37daf1",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "1f6d3d3e06abb06d",
        "name": "3:nd Account",
        "func": "if( msg.config.accounts.length < 3 ) {\n    node.send([null,msg]);\n    return;\n}\n\nif( !msg.config.accounts[2].hasOwnProperty(\"name\") || !msg.config.accounts[2].name || msg.config.accounts[2].name.length < 2 ) {\n    node.send([null,msg]);\n    return;\n}\n\nif( !msg.config.accounts[2].hasOwnProperty(\"password\") || !msg.config.accounts[2].password || msg.config.accounts[2].password.length < 2 ) {\n    node.send([null,msg]);\n    return;\n}\n\nmsg.payload = {\n    name: msg.config.accounts[2].name,\n    password: msg.config.accounts[2].password,\n    privileges: msg.config.accounts[2].privileges\n}\nnode.send([msg,null]);",
        "outputs": 2,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 640,
        "wires": [
            [
                "3481d23edbeba3b3"
            ],
            [
                "c2c49c801ea1640f"
            ]
        ]
    },
    {
        "id": "3481d23edbeba3b3",
        "type": "Axis Security",
        "z": "6d42dc07fde7a1cc",
        "g": "1f6d3d3e06abb06d",
        "name": "",
        "preset": "1af13a1540441ff9",
        "address": "",
        "action": "Set account",
        "data": "",
        "options": "",
        "x": 910,
        "y": 640,
        "wires": [
            [
                "7fc27822820e9d52",
                "e52173e99d75688f"
            ]
        ]
    },
    {
        "id": "0f99dc9a93c644e0",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "g": "1f6d3d3e06abb06d",
        "name": "Add additional accounts",
        "info": "",
        "x": 340,
        "y": 540,
        "wires": []
    },
    {
        "id": "e52173e99d75688f",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "1f6d3d3e06abb06d",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": Account \" + msg.config.accounts[1].name + \" set\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1090,
        "y": 640,
        "wires": [
            [
                "284779d89bfd4a43"
            ]
        ]
    },
    {
        "id": "f429dd5d45654cb8",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "1f6d3d3e06abb06d",
        "name": "",
        "scope": [
            "3c7fdce98cf5e740",
            "3481d23edbeba3b3"
        ],
        "uncaught": false,
        "x": 910,
        "y": 680,
        "wires": [
            [
                "7ac0cedb1a0b201b",
                "7fc27822820e9d52"
            ]
        ]
    },
    {
        "id": "b24c8e822aae2f16",
        "type": "link in",
        "z": "6d42dc07fde7a1cc",
        "name": "SSH",
        "links": [
            "5cf384a5b9bb0252"
        ],
        "x": 175,
        "y": 3460,
        "wires": [
            [
                "7803818ab6b4932c"
            ]
        ]
    },
    {
        "id": "e9a28492cbc07c97",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 77",
        "mode": "link",
        "links": [
            "b0a1ce037aa9d623"
        ],
        "x": 1365,
        "y": 3540,
        "wires": []
    },
    {
        "id": "7a6f44fa6a79fac8",
        "type": "link in",
        "z": "6d42dc07fde7a1cc",
        "name": "MQTT",
        "links": [
            "7b9b40ec8878d8de"
        ],
        "x": 175,
        "y": 3040,
        "wires": [
            [
                "deb641bd583c130a"
            ]
        ]
    },
    {
        "id": "5cf384a5b9bb0252",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 78",
        "mode": "link",
        "links": [
            "b24c8e822aae2f16"
        ],
        "x": 2255,
        "y": 3300,
        "wires": []
    },
    {
        "id": "832257bf921649c3",
        "type": "link in",
        "z": "6d42dc07fde7a1cc",
        "name": "ACAPS",
        "links": [
            "ea24bf485d2452ad"
        ],
        "x": 175,
        "y": 4020,
        "wires": [
            [
                "571d5564b6822e05"
            ]
        ]
    },
    {
        "id": "e9fd1c3655856e43",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 79",
        "mode": "link",
        "links": [
            "fd813139961b13e6"
        ],
        "x": 1745,
        "y": 4100,
        "wires": []
    },
    {
        "id": "40eebfd08684e304",
        "type": "link in",
        "z": "6d42dc07fde7a1cc",
        "name": "TLS",
        "links": [
            "4da11a689f97605a"
        ],
        "x": 165,
        "y": 1660,
        "wires": [
            [
                "6c5e4ccc719f9a37"
            ]
        ]
    },
    {
        "id": "d80a8f47d3d799b0",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 80",
        "mode": "link",
        "links": [
            "8c2e30393d448fcc"
        ],
        "x": 1745,
        "y": 1740,
        "wires": []
    },
    {
        "id": "632a2cdc63faaa41",
        "type": "link in",
        "z": "6d42dc07fde7a1cc",
        "name": "Text Overlays",
        "links": [
            "76f8a7270ae91234"
        ],
        "x": 165,
        "y": 2520,
        "wires": [
            [
                "8d7d459145217f85"
            ]
        ]
    },
    {
        "id": "9eed0310146136c7",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 81",
        "mode": "link",
        "links": [
            "2fdf9b84b777a87f"
        ],
        "x": 1705,
        "y": 2640,
        "wires": []
    },
    {
        "id": "8c2e30393d448fcc",
        "type": "link in",
        "z": "6d42dc07fde7a1cc",
        "name": "ONVIF",
        "links": [
            "d80a8f47d3d799b0"
        ],
        "x": 165,
        "y": 1920,
        "wires": [
            [
                "820447d28dd65e6d"
            ]
        ]
    },
    {
        "id": "3562c80791500f10",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 82",
        "mode": "link",
        "links": [
            "583ffb3dbdee4830"
        ],
        "x": 2305,
        "y": 2100,
        "wires": []
    },
    {
        "id": "583ffb3dbdee4830",
        "type": "link in",
        "z": "6d42dc07fde7a1cc",
        "name": "Remove overlays",
        "links": [
            "3562c80791500f10"
        ],
        "x": 165,
        "y": 2280,
        "wires": [
            [
                "6218173283032800"
            ]
        ]
    },
    {
        "id": "76f8a7270ae91234",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 83",
        "mode": "link",
        "links": [
            "632a2cdc63faaa41"
        ],
        "x": 2255,
        "y": 2360,
        "wires": []
    },
    {
        "id": "2fdf9b84b777a87f",
        "type": "link in",
        "z": "6d42dc07fde7a1cc",
        "name": "Image Overlays",
        "links": [
            "9eed0310146136c7"
        ],
        "x": 165,
        "y": 2800,
        "wires": [
            [
                "8f33dab30be8e23b"
            ]
        ]
    },
    {
        "id": "7b9b40ec8878d8de",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 84",
        "mode": "link",
        "links": [
            "7a6f44fa6a79fac8"
        ],
        "x": 1415,
        "y": 2880,
        "wires": []
    },
    {
        "id": "8d339a2b584c2236",
        "type": "link in",
        "z": "6d42dc07fde7a1cc",
        "name": "Timezone",
        "links": [
            "c53bd50812c8963c"
        ],
        "x": 165,
        "y": 1120,
        "wires": [
            [
                "ec136e844c972d65"
            ]
        ]
    },
    {
        "id": "5e10479e0acef175",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 86",
        "mode": "link",
        "links": [
            "64ba65a84c2fb65b"
        ],
        "x": 805,
        "y": 1200,
        "wires": []
    },
    {
        "id": "64ba65a84c2fb65b",
        "type": "link in",
        "z": "6d42dc07fde7a1cc",
        "name": "Zipstream",
        "links": [
            "5e10479e0acef175"
        ],
        "x": 165,
        "y": 1360,
        "wires": [
            [
                "7c4a3806b8270e77"
            ]
        ]
    },
    {
        "id": "4da11a689f97605a",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 87",
        "mode": "link",
        "links": [
            "40eebfd08684e304"
        ],
        "x": 1935,
        "y": 1500,
        "wires": []
    },
    {
        "id": "0327886d739088cf",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 93",
        "mode": "link",
        "links": [
            "fd813139961b13e6"
        ],
        "x": 1745,
        "y": 1660,
        "wires": []
    },
    {
        "id": "b394e947f04ed845",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 94",
        "mode": "link",
        "links": [
            "fd813139961b13e6"
        ],
        "x": 2295,
        "y": 1920,
        "wires": []
    },
    {
        "id": "2c09d5934cbea73d",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 95",
        "mode": "link",
        "links": [
            "fd813139961b13e6"
        ],
        "x": 1705,
        "y": 2520,
        "wires": []
    },
    {
        "id": "5cbe2c8aec429365",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 96",
        "mode": "link",
        "links": [
            "fd813139961b13e6"
        ],
        "x": 1415,
        "y": 2800,
        "wires": []
    },
    {
        "id": "4ce411a28344825f",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 97",
        "mode": "link",
        "links": [
            "fd813139961b13e6"
        ],
        "x": 2255,
        "y": 3040,
        "wires": []
    },
    {
        "id": "27b9e191d499b6fa",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 98",
        "mode": "link",
        "links": [
            "fd813139961b13e6"
        ],
        "x": 1365,
        "y": 3460,
        "wires": []
    },
    {
        "id": "1ed901bb2d60f372",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 92",
        "mode": "link",
        "links": [
            "fd813139961b13e6"
        ],
        "x": 1935,
        "y": 1360,
        "wires": []
    },
    {
        "id": "bd72b0798c38476b",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 91",
        "mode": "link",
        "links": [
            "fd813139961b13e6"
        ],
        "x": 805,
        "y": 1120,
        "wires": []
    },
    {
        "id": "3c01a4d5f30ce4dc",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 108",
        "mode": "link",
        "links": [
            "0747a28a9849538a"
        ],
        "x": 1745,
        "y": 4220,
        "wires": []
    },
    {
        "id": "b69e37aa5637dd2a",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 109",
        "mode": "link",
        "links": [
            "fd813139961b13e6"
        ],
        "x": 1445,
        "y": 4800,
        "wires": []
    },
    {
        "id": "d0b20840504e3e05",
        "type": "link in",
        "z": "6d42dc07fde7a1cc",
        "name": "link in 32",
        "links": [
            "6a78770127e625ae"
        ],
        "x": 145,
        "y": 4800,
        "wires": [
            [
                "0519aeaffb6a32ab"
            ]
        ]
    },
    {
        "id": "a7749da08ce3e47f",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 110",
        "mode": "link",
        "links": [
            "845b3e302add8ec2"
        ],
        "x": 1445,
        "y": 4900,
        "wires": []
    },
    {
        "id": "0747a28a9849538a",
        "type": "link in",
        "z": "6d42dc07fde7a1cc",
        "name": "link in 33",
        "links": [
            "3c01a4d5f30ce4dc"
        ],
        "x": 185,
        "y": 4380,
        "wires": [
            [
                "00f076bc84557e4d"
            ]
        ]
    },
    {
        "id": "2d135a059bc91f5a",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 111",
        "mode": "link",
        "links": [
            "fd813139961b13e6"
        ],
        "x": 1155,
        "y": 4380,
        "wires": []
    },
    {
        "id": "6a78770127e625ae",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 112",
        "mode": "link",
        "links": [
            "d0b20840504e3e05"
        ],
        "x": 1155,
        "y": 4480,
        "wires": []
    },
    {
        "id": "e1a8602242b985ae",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "name": "When Adding more configurations, add them below this comment before potentially device changes to fixed IP",
        "info": "",
        "x": 610,
        "y": 4560,
        "wires": []
    },
    {
        "id": "b0a1ce037aa9d623",
        "type": "link in",
        "z": "6d42dc07fde7a1cc",
        "name": "ACAPS",
        "links": [
            "e9a28492cbc07c97"
        ],
        "x": 175,
        "y": 3720,
        "wires": [
            [
                "bd2dc70205927cc1"
            ]
        ]
    },
    {
        "id": "ea24bf485d2452ad",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 114",
        "mode": "link",
        "links": [
            "832257bf921649c3"
        ],
        "x": 1365,
        "y": 3860,
        "wires": []
    },
    {
        "id": "7a8a016369547c0d",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 115",
        "mode": "link",
        "links": [
            "fd813139961b13e6"
        ],
        "x": 1365,
        "y": 3660,
        "wires": []
    },
    {
        "id": "4210033e5d07d764",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 116",
        "mode": "link",
        "links": [
            "09eb56c5433ca289"
        ],
        "x": 1365,
        "y": 3700,
        "wires": []
    },
    {
        "id": "92d5e426761fce79",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 117",
        "mode": "link",
        "links": [
            "09eb56c5433ca289"
        ],
        "x": 1365,
        "y": 3780,
        "wires": []
    },
    {
        "id": "a914e97901ad4b46",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 118",
        "mode": "link",
        "links": [
            "fd813139961b13e6"
        ],
        "x": 1365,
        "y": 3740,
        "wires": []
    },
    {
        "id": "4b4c762e53e11db4",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 119",
        "mode": "link",
        "links": [
            "09eb56c5433ca289"
        ],
        "x": 1365,
        "y": 3500,
        "wires": []
    },
    {
        "id": "464ce93ffda28994",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 120",
        "mode": "link",
        "links": [
            "09eb56c5433ca289"
        ],
        "x": 2255,
        "y": 3080,
        "wires": []
    },
    {
        "id": "8ff1928427dce605",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 124",
        "mode": "link",
        "links": [
            "09eb56c5433ca289"
        ],
        "x": 805,
        "y": 1160,
        "wires": []
    },
    {
        "id": "260cd8d309dbc4aa",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 125",
        "mode": "link",
        "links": [
            "09eb56c5433ca289"
        ],
        "x": 1935,
        "y": 1460,
        "wires": []
    },
    {
        "id": "28ec561f15f256b9",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 126",
        "mode": "link",
        "links": [
            "09eb56c5433ca289"
        ],
        "x": 1745,
        "y": 1700,
        "wires": []
    },
    {
        "id": "2c4deac222e3fbbd",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 127",
        "mode": "link",
        "links": [
            "09eb56c5433ca289"
        ],
        "x": 2255,
        "y": 2320,
        "wires": []
    },
    {
        "id": "f20936e41e089c90",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 128",
        "mode": "link",
        "links": [
            "09eb56c5433ca289"
        ],
        "x": 1705,
        "y": 2600,
        "wires": []
    },
    {
        "id": "264bf28f05b34886",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 129",
        "mode": "link",
        "links": [
            "09eb56c5433ca289"
        ],
        "x": 1415,
        "y": 2840,
        "wires": []
    },
    {
        "id": "708821c344dc7e0b",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 130",
        "mode": "link",
        "links": [
            "09eb56c5433ca289"
        ],
        "x": 1745,
        "y": 4140,
        "wires": []
    },
    {
        "id": "1df12383b2cb3f3f",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 131",
        "mode": "link",
        "links": [
            "09eb56c5433ca289"
        ],
        "x": 1155,
        "y": 4420,
        "wires": []
    },
    {
        "id": "cd4752f49798dd90",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 132",
        "mode": "link",
        "links": [
            "09eb56c5433ca289"
        ],
        "x": 1445,
        "y": 4860,
        "wires": []
    },
    {
        "id": "030a9348712c048a",
        "type": "Axis Security",
        "z": "6d42dc07fde7a1cc",
        "g": "878547f1f933f691",
        "name": "",
        "preset": "1af13a1540441ff9",
        "address": "",
        "action": "Allow SSH",
        "data": "",
        "options": "",
        "x": 490,
        "y": 3460,
        "wires": [
            [
                "78c39c77f39891b3"
            ]
        ]
    },
    {
        "id": "5aef23bab05b5a72",
        "type": "Axis Security",
        "z": "6d42dc07fde7a1cc",
        "g": "878547f1f933f691",
        "name": "",
        "preset": "1af13a1540441ff9",
        "address": "",
        "action": "Set SSH User",
        "data": "",
        "options": "",
        "x": 880,
        "y": 3460,
        "wires": [
            [
                "633ff13636e34f92",
                "cb66d780563dc109"
            ]
        ]
    },
    {
        "id": "fecb8e603a93a257",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "g": "878547f1f933f691",
        "name": "Enable SSH",
        "info": "",
        "x": 310,
        "y": 3400,
        "wires": []
    },
    {
        "id": "7803818ab6b4932c",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "878547f1f933f691",
        "name": "SSH",
        "func": "if( !msg.config.hasOwnProperty(\"ssh\") ) {\n  node.send([null,msg]);\n  return;\n}\n\nif( msg.config.ssh === false || msg.config.ssh === null )\n    msg.payload = false;\nelse    \n    msg.payload = true;\nnode.send([msg,null]);\n",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 3460,
        "wires": [
            [
                "030a9348712c048a"
            ],
            [
                "b64a7c8998efe968"
            ]
        ]
    },
    {
        "id": "cb66d780563dc109",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "878547f1f933f691",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": SSH user \" + msg.config.ssh.user;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1230,
        "y": 3460,
        "wires": [
            [
                "27b9e191d499b6fa"
            ]
        ]
    },
    {
        "id": "78c39c77f39891b3",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "878547f1f933f691",
        "name": "user",
        "func": "if( !msg.config.ssh.hasOwnProperty(\"user\") || msg.config.ssh.user.length < 3 ) {\n    node.send([null,msg]);\n    return;\n}\n\nif( !msg.config.ssh.hasOwnProperty(\"password\") || msg.config.ssh.password.length < 3 ) {\n    node.send([null,msg]);\n    return;\n}\n\nmsg.payload = {\n    name: msg.config.ssh.user,\n    password: msg.config.ssh.password\n}\nnode.send([msg,null]);\n",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 3460,
        "wires": [
            [
                "5aef23bab05b5a72"
            ],
            [
                "bcf88a0d194fa8ac"
            ]
        ]
    },
    {
        "id": "68883fc0f0a9157d",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "878547f1f933f691",
        "name": "",
        "scope": [
            "5aef23bab05b5a72"
        ],
        "uncaught": false,
        "x": 860,
        "y": 3500,
        "wires": [
            [
                "027c26ec0932cdfb"
            ]
        ]
    },
    {
        "id": "5d0146fb50ee2af3",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "878547f1f933f691",
        "name": "",
        "scope": [
            "030a9348712c048a"
        ],
        "uncaught": false,
        "x": 480,
        "y": 3500,
        "wires": [
            [
                "bcf88a0d194fa8ac"
            ]
        ]
    },
    {
        "id": "027c26ec0932cdfb",
        "type": "switch",
        "z": "6d42dc07fde7a1cc",
        "g": "878547f1f933f691",
        "name": "!409",
        "property": "payload.statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "409",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1070,
        "y": 3500,
        "wires": [
            [
                "47877e93b965e9a8",
                "cb66d780563dc109"
            ],
            [
                "47877e93b965e9a8",
                "4b4c762e53e11db4"
            ]
        ]
    },
    {
        "id": "74a004169565cd56",
        "type": "template",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "name": "MQTT Config",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\n    \"apiVersion\":\"1.5\",\n    \"method\":\"configureClient\",\n    \"params\":{\n        \"autoReconnect\":true,\n        \"cleanSession\":true,\n        \"clientId\": \"{{device.serial}}\",\n        \"connectTimeout\":60,\n        \"deviceTopicPrefix\":\"axis\",\n        \"id\":\"MqttClientConfig\",\n        \"keepAliveInterval\":60,\n        \"server\":{\n            \"host\": \"{{config.mqtt.address}}\",\n            \"id\":\"MqttClientServer\",\n            \"port\":1883,\n            \"protocol\":\"tcp\"\n        },\n        \"username\": \"{{config.mqtt.user}}\",\n        \"password\": \"{{config.mqtt.password}}\",\n        \"keepExistingPassword\":false\n    }\n}\n\n",
        "output": "str",
        "x": 540,
        "y": 3040,
        "wires": [
            [
                "fc1376b62a23eefd"
            ]
        ],
        "info": "https://www.axis.com/vapix-library/subjects/t10175981/section/t10152603/display?section=t10152603-t10152921\r\n\r\n{\r\n  \"apiVersion\": \"<Major>.<Minor>\",\r\n  \"context\": <string>,\r\n  \"method\": \"configureClient\",\r\n  \"params\": {\r\n\r\n    \"server\": {\r\n      \"protocol\": <string>,\r\n      \"host\": <string>,\r\n      \"port\": <integer>,\r\n      \"basepath\": <string>,\r\n      \"alpnProtocol\": <string>\r\n    },\r\n\r\n    \"httpProxy\": <string>,\r\n    \"httpsProxy\": <string>,\r\n    \"username\": <string>,\r\n    \"password\": <string>,\r\n    \"keepExistingPassword\": <boolean>\r\n    \"clientId\": <string>,\r\n    \"keepAliveInterval\": <int>,\r\n    \"connectTimeout\": <int>,\r\n    \"cleanSession\": <boolean>,\r\n    \"autoReconnect\": <boolean>,\r\n    \"deviceTopicPrefix\": <string>,\r\n\r\n    \"lastWillTestament\": {\r\n      \"useDefault\": <boolean>,\r\n      \"topic\": <string>,\r\n      \"message\": <string>,\r\n      \"retain\": <boolean>,\r\n      \"qos\": <int>\r\n    },\r\n\r\n    \"connectMessage\": {\r\n      \"useDefault\": <boolean>,\r\n      \"topic\": <string>,\r\n      \"message\": <string>,\r\n      \"retain\": <boolean>,\r\n      \"qos\": <int>\r\n    },\r\n\r\n    \"disconnectMessage\": {\r\n      \"useDefault\": <boolean>,\r\n      \"topic\": <string>,\r\n      \"message\": <string>,\r\n      \"retain\": <boolean>,\r\n      \"qos\": <int>\r\n    },\r\n    \"ssl\": {\r\n      \"validateServerCert\": <boolean>,\r\n      \"clientCertID\": <string>,\r\n      \"CACertID\": <string>\r\n    }\r\n  }\r\n}\r\n"
    },
    {
        "id": "6c74ab2a203fa606",
        "type": "template",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "name": "Start MQTT",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\n    \"apiVersion\":\"1.5\",\n    \"method\":\"activateClient\"\n}",
        "output": "str",
        "x": 990,
        "y": 3120,
        "wires": [
            [
                "76ae8d67fdcd22fa"
            ]
        ]
    },
    {
        "id": "fc1376b62a23eefd",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "name": "/axis-cgi/mqtt/client.cgi",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Post",
        "cgi": "/axis-cgi/mqtt/client.cgi",
        "data": "",
        "options": "",
        "filename": "",
        "x": 770,
        "y": 3040,
        "wires": [
            [
                "6c74ab2a203fa606",
                "919628f28aa312ab"
            ]
        ]
    },
    {
        "id": "76ae8d67fdcd22fa",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "name": "/axis-cgi/mqtt/client.cgi",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Post",
        "cgi": "/axis-cgi/mqtt/client.cgi",
        "data": "",
        "options": "",
        "filename": "",
        "x": 1210,
        "y": 3120,
        "wires": [
            [
                "39f288909c2be1a6",
                "89acce27ec20ac08"
            ]
        ]
    },
    {
        "id": "e64c7fed7370171f",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "name": "MQTT Client setup",
        "info": "",
        "x": 330,
        "y": 2980,
        "wires": []
    },
    {
        "id": "deb641bd583c130a",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "name": "Set MQTT Client",
        "func": "if (!msg.config.hasOwnProperty(\"mqtt\") || !msg.config.mqtt || typeof msg.config.mqtt !== \"object\" ) {\n    node.send([null, msg]);\n    return;\n}\n\nif (!msg.config.mqtt.hasOwnProperty(\"address\") || msg.config.mqtt.address.length < 5) {\n    node.send([null, msg]);\n    return;\n}\n\nif (!msg.config.mqtt.hasOwnProperty(\"port\") )\n    msg.config.mqtt.port = \"1880\";\n\nif (!msg.config.mqtt.hasOwnProperty(\"user\"))\n    msg.config.mqtt.user = \"\";\n\nif (!msg.config.mqtt.hasOwnProperty(\"password\"))\n    msg.config.mqtt.pasword = \"\";\n\nnode.send([msg,null]);",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 3040,
        "wires": [
            [
                "74a004169565cd56"
            ],
            [
                "12f839fe2497cf76"
            ]
        ]
    },
    {
        "id": "39f288909c2be1a6",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "name": "Publish",
        "func": "if (!msg.config.mqtt.hasOwnProperty(\"publish\") || !Array.isArray(msg.config.mqtt.publish) || msg.config.mqtt.publish.length === 0 ) {\n    node.send([null,msg]);\n    return;\n}\n\nmsg.payload = {\n    apiVersion: \"1.2\",\n    method: \"configureEventPublication\",\n    params: {\n        appendEventTopic: true,\n        customTopicPrefix: \"event\",\n        eventFilterList: msg.config.mqtt.publish,\n        includeSerialNumberInPayload: true,\n        includeTopicNamespaces: false,\n        topicPrefix: \"custom\"\n    }\n}\nnode.send([msg,null]);",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1460,
        "y": 3200,
        "wires": [
            [
                "9a1c63cddd15499f"
            ],
            [
                "347da8252a7d9ad3"
            ]
        ]
    },
    {
        "id": "9a1c63cddd15499f",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "name": "/axis-cgi/mqtt/event.cgi",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Post",
        "cgi": "/axis-cgi/mqtt/event.cgi",
        "data": "",
        "options": "",
        "filename": "",
        "x": 1690,
        "y": 3200,
        "wires": [
            [
                "a7660a3c4da81c88",
                "14be1966f37fc9e7"
            ]
        ]
    },
    {
        "id": "14be1966f37fc9e7",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": MQTT publish set\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1950,
        "y": 3200,
        "wires": [
            [
                "3aa917053636ca53"
            ]
        ]
    },
    {
        "id": "2ec21ce9eaf26f6a",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "name": "",
        "scope": [
            "fc1376b62a23eefd"
        ],
        "uncaught": false,
        "x": 720,
        "y": 3080,
        "wires": [
            [
                "2ed6a35e2274ba70",
                "16576f7d68a705e6"
            ]
        ]
    },
    {
        "id": "919628f28aa312ab",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": MQTT client set\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1950,
        "y": 3040,
        "wires": [
            [
                "3aa917053636ca53"
            ]
        ]
    },
    {
        "id": "89acce27ec20ac08",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": MQTT client started\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1950,
        "y": 3120,
        "wires": [
            [
                "3aa917053636ca53"
            ]
        ]
    },
    {
        "id": "89f1fcfa4b18382c",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "name": "",
        "scope": [
            "76ae8d67fdcd22fa"
        ],
        "uncaught": false,
        "x": 1260,
        "y": 3160,
        "wires": [
            [
                "16576f7d68a705e6",
                "edcbe2a57ce6ea14"
            ]
        ]
    },
    {
        "id": "93828c66e66de62f",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "name": "",
        "scope": [
            "9a1c63cddd15499f"
        ],
        "uncaught": false,
        "x": 1740,
        "y": 3240,
        "wires": [
            [
                "711c5fb20e6126f1",
                "a7660a3c4da81c88"
            ]
        ]
    },
    {
        "id": "571d5564b6822e05",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "1953762ac38bb0d3",
        "name": "ACAPS",
        "func": "if( !msg.config.hasOwnProperty(\"acaps\") || msg.config.acaps.length === 0 ) {\n    node.send([null,msg]);\n    return;\n}\nmsg.payload = msg.config.acaps;\nnode.send([msg],null);\n",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 4020,
        "wires": [
            [
                "a221d6130cdc4aff"
            ],
            [
                "59d27d3ea2d4733d"
            ]
        ]
    },
    {
        "id": "a221d6130cdc4aff",
        "type": "split",
        "z": "6d42dc07fde7a1cc",
        "g": "1953762ac38bb0d3",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 470,
        "y": 4020,
        "wires": [
            [
                "afcc4cfea42bd207"
            ]
        ]
    },
    {
        "id": "afcc4cfea42bd207",
        "type": "change",
        "z": "6d42dc07fde7a1cc",
        "g": "1953762ac38bb0d3",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "acap",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.package",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 4020,
        "wires": [
            [
                "32da1f57187bf991"
            ]
        ]
    },
    {
        "id": "32da1f57187bf991",
        "type": "Axis ACAP",
        "z": "6d42dc07fde7a1cc",
        "g": "1953762ac38bb0d3",
        "name": "",
        "preset": "1af13a1540441ff9",
        "action": "ACAP Status",
        "acap": "",
        "filename": "",
        "x": 840,
        "y": 4020,
        "wires": [
            [
                "62f9f07d857b02fe"
            ]
        ]
    },
    {
        "id": "c5a64676e3f4b156",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "1953762ac38bb0d3",
        "name": "Installation required",
        "scope": [
            "32da1f57187bf991"
        ],
        "uncaught": false,
        "x": 620,
        "y": 4100,
        "wires": [
            [
                "aec047f483a376f8"
            ]
        ]
    },
    {
        "id": "aec047f483a376f8",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "1953762ac38bb0d3",
        "name": "Install ACAP",
        "func": "msg.filename = msg.acap[msg.device.platform];\nmsg.payload = msg.filename;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 4100,
        "wires": [
            [
                "2c6497073f8ce4c3"
            ]
        ]
    },
    {
        "id": "2c6497073f8ce4c3",
        "type": "Axis ACAP",
        "z": "6d42dc07fde7a1cc",
        "g": "1953762ac38bb0d3",
        "name": "",
        "preset": "1af13a1540441ff9",
        "action": "Install ACAP",
        "acap": "",
        "filename": "",
        "x": 1130,
        "y": 4100,
        "wires": [
            [
                "35c5a6b727f05f5a"
            ]
        ]
    },
    {
        "id": "62f9f07d857b02fe",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "1953762ac38bb0d3",
        "name": "Need Update",
        "func": "if( msg.acap.version === msg.payload.Version ) {\n    msg.payload = msg.payload.Name;\n    node.send([msg,null]);\n    return;\n}\nmsg.payload = msg.payload.Name;\nnode.send([null,msg]);\n",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 4020,
        "wires": [
            [
                "35c5a6b727f05f5a"
            ],
            [
                "aec047f483a376f8",
                "61190f8594d5d627"
            ]
        ]
    },
    {
        "id": "35c5a6b727f05f5a",
        "type": "Axis ACAP",
        "z": "6d42dc07fde7a1cc",
        "g": "1953762ac38bb0d3",
        "name": "",
        "preset": "1af13a1540441ff9",
        "action": "Start ACAP",
        "acap": "",
        "filename": "",
        "x": 1330,
        "y": 4100,
        "wires": [
            [
                "e4efd2a24a7351fb",
                "2a8db98a938a636a"
            ]
        ]
    },
    {
        "id": "a7660b6210a5e948",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "g": "1953762ac38bb0d3",
        "name": "Install ACAPS",
        "info": "",
        "x": 320,
        "y": 3960,
        "wires": []
    },
    {
        "id": "e4efd2a24a7351fb",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "1953762ac38bb0d3",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": \" + msg.acap.package + \" installed and started\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1510,
        "y": 4100,
        "wires": [
            [
                "31d383d63c33f420"
            ]
        ]
    },
    {
        "id": "2a8db98a938a636a",
        "type": "join",
        "z": "6d42dc07fde7a1cc",
        "g": "1953762ac38bb0d3",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1510,
        "y": 4180,
        "wires": [
            [
                "baa24b3bc35e63a3"
            ]
        ]
    },
    {
        "id": "086f07b147b55864",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "1953762ac38bb0d3",
        "name": "",
        "scope": [
            "2c6497073f8ce4c3",
            "35c5a6b727f05f5a"
        ],
        "uncaught": false,
        "x": 1320,
        "y": 4140,
        "wires": [
            [
                "2a8db98a938a636a",
                "708821c344dc7e0b"
            ]
        ]
    },
    {
        "id": "61190f8594d5d627",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "1953762ac38bb0d3",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": Installing ACAP\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1510,
        "y": 4020,
        "wires": [
            [
                "31d383d63c33f420"
            ]
        ]
    },
    {
        "id": "693fe30c3d74aead",
        "type": "template",
        "z": "6d42dc07fde7a1cc",
        "g": "a15eb02dd6151895",
        "name": "Set TLS Policy",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Envelope xmlns=\"http://www.w3.org/2003/05/soap-envelope\">\n <Header/>\n <Body >\n<SetWebServerTlsConfiguration xmlns=\"http://www.axis.com/vapix/ws/webserver\" xmlns:acert=\"http://www.axis.com/vapix/ws/cert\">\n          <Configuration>\n              <Tls>true</Tls>\n              <ConnectionPolicies>\n                  <Admin>{{config.tls.policy}}</Admin>\n              </ConnectionPolicies>\n              <Ciphers>\n                  <acert:Cipher>ECDHE-ECDSA-AES128-GCM-SHA256</acert:Cipher><acert:Cipher>ECDHE-RSA-AES128-GCM-SHA256</acert:Cipher><acert:Cipher>ECDHE-ECDSA-AES256-GCM-SHA384</acert:Cipher><acert:Cipher>ECDHE-RSA-AES256-GCM-SHA384</acert:Cipher><acert:Cipher>ECDHE-ECDSA-CHACHA20-POLY1305</acert:Cipher><acert:Cipher>ECDHE-RSA-CHACHA20-POLY1305</acert:Cipher><acert:Cipher>DHE-RSA-AES128-GCM-SHA256</acert:Cipher><acert:Cipher>DHE-RSA-AES256-GCM-SHA384</acert:Cipher>\n              </Ciphers>\n              <CertificateSet>\n                  <acert:Certificates><acert:Id>{{payload}}</acert:Id></acert:Certificates>\n                  <acert:CACertificates></acert:CACertificates>\n                  <acert:TrustedCertificates></acert:TrustedCertificates>\n              </CertificateSet>\n          </Configuration>\n      </SetWebServerTlsConfiguration>\n </Body>\n</Envelope>",
        "output": "str",
        "x": 1220,
        "y": 1660,
        "wires": [
            [
                "511db8aa7b2ae63c"
            ]
        ]
    },
    {
        "id": "511db8aa7b2ae63c",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "a15eb02dd6151895",
        "name": "/vapix/services",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Post",
        "cgi": "/vapix/services",
        "data": "",
        "options": "",
        "filename": "",
        "x": 1420,
        "y": 1660,
        "wires": [
            [
                "370fa3704cd99ac5",
                "a595e32593518ec7"
            ]
        ]
    },
    {
        "id": "576983bcb808ca33",
        "type": "template",
        "z": "6d42dc07fde7a1cc",
        "g": "a15eb02dd6151895",
        "name": "Get TLS Policy",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Envelope xmlns=\"http://www.w3.org/2003/05/soap-envelope\">\n <Header/>\n <Body >\n<GetWebServerTlsConfiguration xmlns=\"http://www.axis.com/vapix/ws/webserver\">\n    </GetWebServerTlsConfiguration>\n </Body>\n</Envelope>",
        "output": "str",
        "x": 500,
        "y": 1660,
        "wires": [
            [
                "58d10a461aa25dfc"
            ]
        ]
    },
    {
        "id": "58d10a461aa25dfc",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "a15eb02dd6151895",
        "name": "/vapix/services",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Post",
        "cgi": "/vapix/services",
        "data": "",
        "options": "",
        "filename": "",
        "x": 700,
        "y": 1660,
        "wires": [
            [
                "03f749aad191fcf2"
            ]
        ]
    },
    {
        "id": "03f749aad191fcf2",
        "type": "xml",
        "z": "6d42dc07fde7a1cc",
        "g": "a15eb02dd6151895",
        "name": "",
        "property": "payload",
        "attr": "",
        "chr": "",
        "x": 870,
        "y": 1660,
        "wires": [
            [
                "20b23c47a5c6fb7a"
            ]
        ]
    },
    {
        "id": "20b23c47a5c6fb7a",
        "type": "change",
        "z": "6d42dc07fde7a1cc",
        "g": "a15eb02dd6151895",
        "name": "Certificate ID",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload['SOAP-ENV:Envelope']['SOAP-ENV:Body'][0]['aweb:GetWebServerTlsConfigurationResponse'][0]['aweb:Configuration'][0]['aweb:CertificateSet'][0]['acert:Certificates'][0]['acert:Id'][0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 1660,
        "wires": [
            [
                "693fe30c3d74aead"
            ]
        ]
    },
    {
        "id": "3bfb1bc5a586513b",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "g": "a15eb02dd6151895",
        "name": "Set access policy (HTTP and/or HTTP)",
        "info": "",
        "x": 390,
        "y": 1600,
        "wires": []
    },
    {
        "id": "6c5e4ccc719f9a37",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "a15eb02dd6151895",
        "name": "TLS policy",
        "func": "if( !msg.config.hasOwnProperty(\"tls\") || !msg.config.tls || typeof msg.config.tls !== \"string\" || msg.config.tls.length < 4) {\n  node.send([null,msg]);\n  return;\n}\nnode.send([msg,null]);\n",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 1660,
        "wires": [
            [
                "576983bcb808ca33"
            ],
            [
                "d972bfe7766bfa02"
            ]
        ]
    },
    {
        "id": "a595e32593518ec7",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "a15eb02dd6151895",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": Connection policy set to \" + msg.config.tls.policy;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1610,
        "y": 1660,
        "wires": [
            [
                "0327886d739088cf"
            ]
        ]
    },
    {
        "id": "40500ec1e46495d4",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "a15eb02dd6151895",
        "name": "",
        "scope": [
            "511db8aa7b2ae63c",
            "58d10a461aa25dfc"
        ],
        "uncaught": false,
        "x": 1400,
        "y": 1700,
        "wires": [
            [
                "28ec561f15f256b9",
                "370fa3704cd99ac5"
            ]
        ]
    },
    {
        "id": "5d7f5ab340a00899",
        "type": "template",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "XML",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<? xml version = \"1.0\" encoding = \"UTF-8\" ?>\n<Envelope xmlns=\"http://www.w3.org/2003/05/soap-envelope\">\n    <Header />\n    <Body >\n        <CreateUsers xmlns=\"http://www.onvif.org/ver10/device/wsdl\" xmlns:tt=\"http://www.onvif.org/ver10/schema\">\n            <User>\n                <tt:Username>{{payload.name}}</tt:Username>\n                <tt:Password>{{payload.password}}</tt:Password>\n                <tt:UserLevel>{{payload.privileges}}</tt:UserLevel>\n            </User>\n        </CreateUsers>\n    </Body>\n</Envelope>\n",
        "output": "str",
        "x": 550,
        "y": 1920,
        "wires": [
            [
                "df540bb799978f8d"
            ]
        ]
    },
    {
        "id": "820447d28dd65e6d",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "ONVIF USER 1",
        "func": "if (!msg.config.hasOwnProperty(\"onvif\") || !msg.config.onvif || !Array.isArray(msg.config.onvif) || msg.config.onvif.length < 1 ) {\n    node.send([null,msg]);\n    return;\n}\n\nif (!msg.config.onvif[0].hasOwnProperty(\"name\") || !msg.config.onvif[0].name || typeof msg.config.onvif[0].name !== \"string\" || msg.config.onvif[0].name.length < 3 ) {\n    node.send([null,msg]);\n    return;\n}\n\nif (!msg.config.onvif[0].hasOwnProperty(\"password\") || !msg.config.onvif[0].password || typeof msg.config.onvif[0].password !== \"string\" || msg.config.onvif[0].password.length < 3 ) {\n    node.send([null,msg]);\n    return;\n}\n\n\nmsg.payload = msg.config.onvif[0];\nnode.send([msg,null]);",
        "outputs": 2,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 1920,
        "wires": [
            [
                "5d7f5ab340a00899"
            ],
            [
                "d794a97c1365145b"
            ]
        ]
    },
    {
        "id": "df540bb799978f8d",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "Add ONVIF User 1",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Post",
        "cgi": "/vapix/services",
        "data": "",
        "options": "",
        "filename": "",
        "x": 730,
        "y": 1920,
        "wires": [
            [
                "4844602462f72b66",
                "56e842eba499439a"
            ]
        ]
    },
    {
        "id": "e68131f25f305dbc",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "",
        "scope": [
            "df540bb799978f8d"
        ],
        "uncaught": false,
        "x": 300,
        "y": 1980,
        "wires": [
            [
                "2633249bf3fe0c36"
            ]
        ]
    },
    {
        "id": "86efebace50443d4",
        "type": "template",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "XML",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<? xml version = \"1.0\" encoding = \"UTF-8\" ?>\n<Envelope xmlns=\"http://www.w3.org/2003/05/soap-envelope\">\n    <Header />\n    <Body >\n        <CreateUsers xmlns=\"http://www.onvif.org/ver10/device/wsdl\" xmlns:tt=\"http://www.onvif.org/ver10/schema\">\n            <User>\n                <tt:Username>{{payload.name}}</tt:Username>\n                <tt:Password>{{payload.password}}</tt:Password>\n                <tt:UserLevel>{{payload.privileges}}</tt:UserLevel>\n            </User>\n        </CreateUsers>\n    </Body>\n</Envelope>\n",
        "output": "str",
        "x": 1130,
        "y": 1980,
        "wires": [
            [
                "6a8f742a6d957345"
            ]
        ]
    },
    {
        "id": "4844602462f72b66",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "ONVIF USER 2",
        "func": "if (!msg.config.hasOwnProperty(\"onvif\") ||  !msg.config.onvif ||  !Array.isArray(msg.config.onvif) || msg.config.onvif.length < 2) {\n    node.send([null, msg]);\n    return;\n}\n\nif (!msg.config.onvif[1].hasOwnProperty(\"name\") || !msg.config.onvif[1].name || typeof msg.config.onvif[1].name !== \"string\" || msg.config.onvif[1].name.length < 3 ) {\n    node.send([null,msg]);\n    return;\n}\n\nif (!msg.config.onvif[1].hasOwnProperty(\"password\") || !msg.config.onvif[1].password || typeof msg.config.onvif[1].password !== \"string\" || msg.config.onvif[1].password.length < 3 ) {\n    node.send([null,msg]);\n    return;\n}\n\n\nmsg.payload = msg.config.onvif[1];\nnode.send([msg, null]);",
        "outputs": 2,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 960,
        "y": 1980,
        "wires": [
            [
                "86efebace50443d4"
            ],
            [
                "adfe9f5b1f98f291"
            ]
        ]
    },
    {
        "id": "6a8f742a6d957345",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "Add ONVIF User 2",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Post",
        "cgi": "/vapix/services",
        "data": "",
        "options": "",
        "filename": "",
        "x": 1310,
        "y": 1980,
        "wires": [
            [
                "2ef7ce92fc89fc13",
                "f0e65a4e8be1ae92"
            ]
        ]
    },
    {
        "id": "0317d8d41aa7fe63",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "",
        "scope": [
            "6a8f742a6d957345"
        ],
        "uncaught": false,
        "x": 850,
        "y": 2040,
        "wires": [
            [
                "34bfcf81ce3692a0"
            ]
        ]
    },
    {
        "id": "5bcc63fac3444e05",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "Set ONVIF users",
        "info": "",
        "x": 330,
        "y": 1860,
        "wires": []
    },
    {
        "id": "8406be40f6cadb4e",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "On error, user already exists.",
        "info": "",
        "x": 440,
        "y": 2020,
        "wires": []
    },
    {
        "id": "2ef7ce92fc89fc13",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "ONVIF USER 3",
        "func": "if (!msg.config.hasOwnProperty(\"onvif\") ||  !msg.config.onvif || !Array.isArray(msg.config.onvif) || msg.config.onvif.length < 3) {\n    node.send([null, msg]);\n    return;\n}\n\n\nif (!msg.config.onvif[2].hasOwnProperty(\"name\") || !msg.config.onvif[2].name || typeof msg.config.onvif[2].name !== \"string\" || msg.config.onvif[2].name.length < 3 ) {\n    node.send([null,msg]);\n    return;\n}\n\nif (!msg.config.onvif[2].hasOwnProperty(\"password\") || !msg.config.onvif[2].password || typeof msg.config.onvif[2].password !== \"string\" || msg.config.onvif[2].password.length < 3 ) {\n    node.send([null,msg]);\n    return;\n}\n\n\nmsg.payload = msg.config.onvif[2];\nnode.send([msg, null]);",
        "outputs": 2,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1540,
        "y": 2040,
        "wires": [
            [
                "c873ce0087f68b0f"
            ],
            [
                "3fd84cd20d0852ba"
            ]
        ]
    },
    {
        "id": "c873ce0087f68b0f",
        "type": "template",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "XML",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<? xml version = \"1.0\" encoding = \"UTF-8\" ?>\n<Envelope xmlns=\"http://www.w3.org/2003/05/soap-envelope\">\n    <Header />\n    <Body >\n        <CreateUsers xmlns=\"http://www.onvif.org/ver10/device/wsdl\" xmlns:tt=\"http://www.onvif.org/ver10/schema\">\n            <User>\n                <tt:Username>{{payload.name}}</tt:Username>\n                <tt:Password>{{payload.password}}</tt:Password>\n                <tt:UserLevel>{{payload.privileges}}</tt:UserLevel>\n            </User>\n        </CreateUsers>\n    </Body>\n</Envelope>\n",
        "output": "str",
        "x": 1710,
        "y": 2040,
        "wires": [
            [
                "b2544e6eb11cc841"
            ]
        ]
    },
    {
        "id": "b2544e6eb11cc841",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "Add ONVIF User 3",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Post",
        "cgi": "/vapix/services",
        "data": "",
        "options": "",
        "filename": "",
        "x": 1930,
        "y": 2040,
        "wires": [
            [
                "2ac63accaaf355d0",
                "e80276dcd14ff149"
            ]
        ]
    },
    {
        "id": "028d5725c0e823ce",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "",
        "scope": [
            "b2544e6eb11cc841"
        ],
        "uncaught": false,
        "x": 1430,
        "y": 2100,
        "wires": [
            [
                "df6fb40b13f50a4e"
            ]
        ]
    },
    {
        "id": "2633249bf3fe0c36",
        "type": "change",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "error",
        "rules": [
            {
                "t": "delete",
                "p": "error",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 1980,
        "wires": [
            [
                "d794a97c1365145b"
            ]
        ]
    },
    {
        "id": "34bfcf81ce3692a0",
        "type": "change",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "error",
        "rules": [
            {
                "t": "delete",
                "p": "error",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 2040,
        "wires": [
            [
                "adfe9f5b1f98f291"
            ]
        ]
    },
    {
        "id": "df6fb40b13f50a4e",
        "type": "change",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "error",
        "rules": [
            {
                "t": "delete",
                "p": "error",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1570,
        "y": 2100,
        "wires": [
            [
                "3fd84cd20d0852ba"
            ]
        ]
    },
    {
        "id": "56e842eba499439a",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": ONVIF User \" + msg.config.onvif[0].name;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2110,
        "y": 1920,
        "wires": [
            [
                "a812f9ecd7ae490f"
            ]
        ]
    },
    {
        "id": "f0e65a4e8be1ae92",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": ONVIF User \" + msg.config.onvif[1].name;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2110,
        "y": 1980,
        "wires": [
            [
                "a812f9ecd7ae490f"
            ]
        ]
    },
    {
        "id": "e80276dcd14ff149",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": ONVIF User \" + msg.config.onvif[2].name;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2110,
        "y": 2040,
        "wires": [
            [
                "a812f9ecd7ae490f"
            ]
        ]
    },
    {
        "id": "9970da01932a8eb2",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "2912ca819ea75932",
        "name": "dynamicoverlay.cgi",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Post",
        "cgi": "/axis-cgi/dynamicoverlay/dynamicoverlay.cgi",
        "data": "",
        "options": "",
        "filename": "",
        "x": 530,
        "y": 2520,
        "wires": [
            [
                "b0151bf154361e5b"
            ]
        ]
    },
    {
        "id": "3231e8cef08aac34",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "2912ca819ea75932",
        "name": "dynamicoverlay.cgi",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Post",
        "cgi": "/axis-cgi/dynamicoverlay/dynamicoverlay.cgi",
        "data": "",
        "options": "",
        "filename": "",
        "x": 1150,
        "y": 2560,
        "wires": [
            [
                "6a139b39692dc587"
            ]
        ]
    },
    {
        "id": "cef5c7779a13f864",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "g": "2912ca819ea75932",
        "name": "Set Text Overlays",
        "info": "",
        "x": 330,
        "y": 2460,
        "wires": []
    },
    {
        "id": "b0151bf154361e5b",
        "type": "delay",
        "z": "6d42dc07fde7a1cc",
        "g": "2912ca819ea75932",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 730,
        "y": 2520,
        "wires": [
            [
                "58283b019b1e442c",
                "15bd0e9461e4e179"
            ]
        ]
    },
    {
        "id": "6a139b39692dc587",
        "type": "delay",
        "z": "6d42dc07fde7a1cc",
        "g": "2912ca819ea75932",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1350,
        "y": 2560,
        "wires": [
            [
                "1cc9a1f8ddbc7504",
                "c0b9f51ce31b93f0"
            ]
        ]
    },
    {
        "id": "8d7d459145217f85",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "2912ca819ea75932",
        "name": "Set Overlay 1",
        "func": "if (!msg.config.hasOwnProperty(\"textOverlays\") || !msg.config.textOverlays || !Array.isArray(msg.config.textOverlays) || msg.config.textOverlays.length < 1 ) {\n    node.send([null,msg]);\n    return;\n}\n\nmsg.payload = {\n    apiVersion: \"1.6\",\n    method: \"addText\",\n    params: {\n        text: msg.config.textOverlays[0].text || \"%F %X\",\n        camera: 1,\n        position: msg.config.textOverlays[0].position || \"topLeft\",\n        reference: \"channel\",\n        textColor: msg.config.textOverlays[0].textColor || \"white\",\n        textBGColor: msg.config.textOverlays[0].textBGColor || \"black\",\n        textOLColor: \"transparent\",\n        fontSize: msg.config.textOverlays[0].fontSize || 48\n    }\n}\nreturn msg; \n",
        "outputs": 2,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 2520,
        "wires": [
            [
                "9970da01932a8eb2"
            ],
            [
                "967fa300c2ed0ce4"
            ]
        ]
    },
    {
        "id": "58283b019b1e442c",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "2912ca819ea75932",
        "name": "Set Overlay 2",
        "func": "if (!msg.config.hasOwnProperty(\"textOverlays\") || !msg.config.textOverlays || !Array.isArray(msg.config.textOverlays) || msg.config.textOverlays.length < 2 ) {\n    node.send([null,msg]);\n    return;\n}\n\nmsg.payload = {\n    apiVersion: \"1.6\",\n    method: \"addText\",\n    params: {\n        text: msg.config.textOverlays[1].text || \"%F %X\",\n        camera: 1,\n        position: msg.config.textOverlays[1].position || \"topLeft\",\n        reference: \"channel\",\n        textColor: msg.config.textOverlays[1].textColor || \"white\",\n        textBGColor: msg.config.textOverlays[1].textBGColor || \"black\",\n        textOLColor: \"transparent\",\n        fontSize: msg.config.textOverlays[1].fontSize || 48\n    }\n}\nreturn msg; \n",
        "outputs": 2,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 920,
        "y": 2560,
        "wires": [
            [
                "3231e8cef08aac34"
            ],
            [
                "4fd4c32320317ef7"
            ]
        ]
    },
    {
        "id": "15bd0e9461e4e179",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "2912ca819ea75932",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": Overlay 1 set\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1530,
        "y": 2520,
        "wires": [
            [
                "1e797be3d18f9d48"
            ]
        ]
    },
    {
        "id": "c0b9f51ce31b93f0",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "2912ca819ea75932",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": Overlay 2 set\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1530,
        "y": 2560,
        "wires": [
            [
                "1e797be3d18f9d48"
            ]
        ]
    },
    {
        "id": "5053a566fa457deb",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "2912ca819ea75932",
        "name": "",
        "scope": [
            "9970da01932a8eb2",
            "3231e8cef08aac34"
        ],
        "uncaught": false,
        "x": 1340,
        "y": 2600,
        "wires": [
            [
                "f20936e41e089c90",
                "1cc9a1f8ddbc7504"
            ]
        ]
    },
    {
        "id": "6218173283032800",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "f1e75b99720e2f15",
        "name": "List Overlay",
        "func": "if (!msg.config.hasOwnProperty(\"textOverlays\") || !Array.isArray(msg.config.textOverlays) || msg.config.textOverlays.length === 0) {\n    node.send([null,msg]);\n    return;\n}\n\nmsg.payload = {\n    \"apiVersion\": \"1.6\",\n    \"method\": \"list\",\n    \"params\": {}\n}\nreturn msg;",
        "outputs": 2,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 2280,
        "wires": [
            [
                "46dd615907c43611"
            ],
            [
                "8ac371adb458e19a"
            ]
        ]
    },
    {
        "id": "6a25259cc40ece1a",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "f1e75b99720e2f15",
        "name": "Check error",
        "func": "if( msg.payload.hasOwnProperty(\"error\") ) {\n    node.error( msg.payload.error.message, msg);\n    return;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 2280,
        "wires": [
            [
                "ae7c315f62ac1acc"
            ]
        ]
    },
    {
        "id": "46dd615907c43611",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "f1e75b99720e2f15",
        "name": "dynamicoverlay.cgi",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Post",
        "cgi": "/axis-cgi/dynamicoverlay/dynamicoverlay.cgi",
        "data": "",
        "options": "",
        "filename": "",
        "x": 510,
        "y": 2280,
        "wires": [
            [
                "6a25259cc40ece1a"
            ]
        ]
    },
    {
        "id": "ae7c315f62ac1acc",
        "type": "change",
        "z": "6d42dc07fde7a1cc",
        "g": "f1e75b99720e2f15",
        "name": "textOverlays",
        "rules": [
            {
                "t": "set",
                "p": "imageOverlays",
                "pt": "msg",
                "to": "payload.imageOverlays",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.data.textOverlays",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 2280,
        "wires": [
            [
                "45f2230a4f8dab0a"
            ]
        ]
    },
    {
        "id": "17feca49f82741f6",
        "type": "split",
        "z": "6d42dc07fde7a1cc",
        "g": "f1e75b99720e2f15",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1250,
        "y": 2280,
        "wires": [
            [
                "f490db2d1998009e"
            ]
        ]
    },
    {
        "id": "f490db2d1998009e",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "f1e75b99720e2f15",
        "name": "Remove",
        "func": "msg.payload = {\n    \"apiVersion\": \"1.6\",\n    \"method\": \"remove\",\n    \"params\": {\n         \"identity\": msg.payload.identity \n    }\n}\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1400,
        "y": 2280,
        "wires": [
            [
                "39bac37268952e3b"
            ]
        ]
    },
    {
        "id": "39bac37268952e3b",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "f1e75b99720e2f15",
        "name": "dynamicoverlay.cgi",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Post",
        "cgi": "/axis-cgi/dynamicoverlay/dynamicoverlay.cgi",
        "data": "",
        "options": "",
        "filename": "",
        "x": 1590,
        "y": 2280,
        "wires": [
            [
                "ec2246e47aaee944"
            ]
        ]
    },
    {
        "id": "ec2246e47aaee944",
        "type": "join",
        "z": "6d42dc07fde7a1cc",
        "g": "f1e75b99720e2f15",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 1770,
        "y": 2280,
        "wires": [
            [
                "fac435475ef2929c"
            ]
        ]
    },
    {
        "id": "45f2230a4f8dab0a",
        "type": "switch",
        "z": "6d42dc07fde7a1cc",
        "g": "f1e75b99720e2f15",
        "name": "Found previous",
        "property": "payload.length",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1080,
        "y": 2280,
        "wires": [
            [
                "17feca49f82741f6"
            ],
            [
                "3144ea6575214de4"
            ]
        ]
    },
    {
        "id": "6e3d6ce43827e4dc",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "g": "f1e75b99720e2f15",
        "name": "Remove previous overlays",
        "info": "",
        "x": 350,
        "y": 2220,
        "wires": []
    },
    {
        "id": "fac435475ef2929c",
        "type": "delay",
        "z": "6d42dc07fde7a1cc",
        "g": "f1e75b99720e2f15",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1930,
        "y": 2280,
        "wires": [
            [
                "c7b2f58973e299dd",
                "a88d34d8ddbf7594"
            ]
        ]
    },
    {
        "id": "33ae5c0a60c7d988",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "f1e75b99720e2f15",
        "name": "",
        "scope": [
            "46dd615907c43611",
            "39bac37268952e3b"
        ],
        "uncaught": false,
        "x": 1780,
        "y": 2320,
        "wires": [
            [
                "2c4deac222e3fbbd",
                "c7b2f58973e299dd"
            ]
        ]
    },
    {
        "id": "a88d34d8ddbf7594",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "f1e75b99720e2f15",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": Previous overlays removed\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2110,
        "y": 2280,
        "wires": [
            [
                "ef8068ebc24255c8"
            ]
        ]
    },
    {
        "id": "6e3b12f36c6c7d0d",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "g": "326dbc0c961f423c",
        "name": "Set Image Overlay",
        "info": "",
        "x": 330,
        "y": 2740,
        "wires": []
    },
    {
        "id": "8f33dab30be8e23b",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "326dbc0c961f423c",
        "name": "Upload Overlay",
        "func": "if (!msg.config.hasOwnProperty(\"imageOverlay\") || !msg.config.imageOverlay || typeof msg.config.imageOverlay !== \"object\") {\n    node.send([null, msg]);\n    return;\n}\n\n\nif( !msg.config.imageOverlay.hasOwnProperty(\"filepath\") || msg.config.imageOverlay.filepath.length === 0 ) {\n    node.send([null, msg]);\n    return;\n}\n\nmsg.filename = msg.config.imageOverlay.filepath;\n\nmsg.payload = {\n    scale: msg.config.imageOverlay.scale || true\n//    alpha: msg.config.imageOverlay.alpha || 0\n}\nnode.send([msg,null]);\n",
        "outputs": 2,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 2800,
        "wires": [
            [
                "2916c126ba818149"
            ],
            [
                "0e2b2a42db7642e3"
            ]
        ]
    },
    {
        "id": "2916c126ba818149",
        "type": "Axis camera",
        "z": "6d42dc07fde7a1cc",
        "g": "326dbc0c961f423c",
        "name": "",
        "preset": "1af13a1540441ff9",
        "action": "Upload overlay",
        "resolution": "640x360",
        "output": "Base64",
        "filename": "",
        "options": "",
        "data": "",
        "x": 540,
        "y": 2800,
        "wires": [
            [
                "c66f5e2adf919048"
            ]
        ]
    },
    {
        "id": "c66f5e2adf919048",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "326dbc0c961f423c",
        "name": "Set Overlay",
        "func": "var paths = msg.config.imageOverlay.filepath.split('/');\nvar name = paths[paths.length-1].split('.')[0]\n\nmsg.payload = {\n    apiVersion:\"1.6\",\n    method:\"addImage\",\n    params:{\n        camera:1,\n        overlayPath: \"/etc/overlays/\" + name + \".ovl\",\n        position: msg.config.imageOverlay.position || \"bottomRight\"\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 2800,
        "wires": [
            [
                "7868cd5d5332805d"
            ]
        ]
    },
    {
        "id": "7868cd5d5332805d",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "326dbc0c961f423c",
        "name": "",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Post",
        "cgi": "/axis-cgi/dynamicoverlay/dynamicoverlay.cgi",
        "data": "",
        "options": "",
        "filename": "",
        "x": 1010,
        "y": 2800,
        "wires": [
            [
                "ec288ae76170cd38"
            ]
        ]
    },
    {
        "id": "e3859f8f21a610b7",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "326dbc0c961f423c",
        "name": "",
        "scope": [
            "2916c126ba818149"
        ],
        "uncaught": false,
        "x": 570,
        "y": 2840,
        "wires": [
            [
                "c66f5e2adf919048"
            ]
        ]
    },
    {
        "id": "ec288ae76170cd38",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "326dbc0c961f423c",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": Image Overlay set\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1190,
        "y": 2800,
        "wires": [
            [
                "5cbe2c8aec429365",
                "48261a179849bb0f"
            ]
        ]
    },
    {
        "id": "b3214c22643b0153",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "326dbc0c961f423c",
        "name": "",
        "scope": [
            "7868cd5d5332805d"
        ],
        "uncaught": false,
        "x": 1000,
        "y": 2840,
        "wires": [
            [
                "264bf28f05b34886",
                "48261a179849bb0f"
            ]
        ]
    },
    {
        "id": "70fd3e155b2b5b9c",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "338bb004483233bf",
        "name": "",
        "preset": "1af13a1540441ff9",
        "action": "Set time",
        "cgi": "",
        "data": "",
        "options": "",
        "filename": "",
        "x": 520,
        "y": 1120,
        "wires": [
            [
                "e739e9bc45f8ccd6",
                "c78081407c8b606f"
            ]
        ]
    },
    {
        "id": "ec136e844c972d65",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "338bb004483233bf",
        "name": "Timezone & NTP",
        "func": "if( !msg.config.hasOwnProperty(\"time\") || !msg.config.time || typeof msg.config.time !== \"object\") {\n  node.send([null,msg]);\n  return;\n}\n\nmsg.payload = msg.config.time\nnode.send([msg,null]);\n",
        "outputs": 2,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 1120,
        "wires": [
            [
                "70fd3e155b2b5b9c"
            ],
            [
                "6a4600d7f91a431d"
            ]
        ]
    },
    {
        "id": "8608f4e00a9fd863",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "g": "338bb004483233bf",
        "name": "Timezone                                            ",
        "info": "",
        "x": 300,
        "y": 1060,
        "wires": []
    },
    {
        "id": "c78081407c8b606f",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "338bb004483233bf",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": Time set\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 1120,
        "wires": [
            [
                "bd72b0798c38476b"
            ]
        ]
    },
    {
        "id": "ba8593c3bbcc71f7",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "338bb004483233bf",
        "name": "",
        "scope": [
            "70fd3e155b2b5b9c"
        ],
        "uncaught": false,
        "x": 520,
        "y": 1160,
        "wires": [
            [
                "8ff1928427dce605",
                "e739e9bc45f8ccd6"
            ]
        ]
    },
    {
        "id": "7c4a3806b8270e77",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "1933deb7ff3eadde",
        "name": "Settings",
        "func": "if( !msg.config.hasOwnProperty(\"zipstream\") || !msg.config.zipstream || typeof msg.config.zipstream !== \"object\" || !msg.config.zipstream.hasOwnProperty(\"strength\")) {\n    node.send([null,msg]);\n    return;\n}\n\nmsg.cgi = \"/axis-cgi/zipstream/setstrength.cgi?schemaversion=1\";\nmsg.cgi += \"&strength=\" + msg.config.zipstream.strength;\n//msg.cgi += \"&fpsmode=fixed\"\nmsg.cgi += \"&camera=1\";\nnode.send([msg,null]);",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 1360,
        "wires": [
            [
                "ea8c2266602b9f23"
            ],
            [
                "10e579a4e26e6132"
            ]
        ]
    },
    {
        "id": "ea8c2266602b9f23",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "1933deb7ff3eadde",
        "name": "/axis-cgi/zipstream/setstrength.cgi",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Get",
        "cgi": "",
        "data": "",
        "options": "",
        "filename": "",
        "x": 540,
        "y": 1360,
        "wires": [
            [
                "07c5b3bc32a9ef55",
                "81ed49f01cf28d44"
            ]
        ]
    },
    {
        "id": "11a2c8bdea45eed8",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "g": "1933deb7ff3eadde",
        "name": "Zip Stream",
        "info": "",
        "x": 300,
        "y": 1300,
        "wires": []
    },
    {
        "id": "07c5b3bc32a9ef55",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "1933deb7ff3eadde",
        "name": "Min FPS",
        "func": "if (!msg.config.hasOwnProperty(\"zipstream\") || typeof msg.config.zipstream !== \"object\" || !msg.config.zipstream.hasOwnProperty(\"minfps\")) {\n    node.send([null, msg]);\n    return;\n}\n\nnode.send([msg,null]);\n",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 1420,
        "wires": [
            [
                "011c4997a1fe16bd"
            ],
            [
                "ad70245c4bf78dfc"
            ]
        ]
    },
    {
        "id": "fa155457f55044be",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "1933deb7ff3eadde",
        "name": "/axis-cgi/zipstream/setminfps.cgi",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Get",
        "cgi": "",
        "data": "",
        "options": "",
        "filename": "",
        "x": 1530,
        "y": 1420,
        "wires": [
            [
                "f9c878b459d8d623",
                "7555546b9876dcb0"
            ]
        ]
    },
    {
        "id": "011c4997a1fe16bd",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "1933deb7ff3eadde",
        "name": "/axis-cgi/zipstream/setfpsmode.cgi",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Get",
        "cgi": "/axis-cgi/zipstream/setfpsmode.cgi?schemaversion=1&fpsmode=dynamic&camera=1",
        "data": "",
        "options": "",
        "filename": "",
        "x": 1040,
        "y": 1420,
        "wires": [
            [
                "b8e2a457bac6e713"
            ]
        ]
    },
    {
        "id": "b8e2a457bac6e713",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "1933deb7ff3eadde",
        "name": "minfps",
        "func": "msg.cgi = \"/axis-cgi/zipstream/setminfps.cgi?schemaversion=1\";\nmsg.cgi += \"&minfps=\" + msg.config.zipstream.minfps;\nmsg.cgi += \"&camera=1\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1270,
        "y": 1420,
        "wires": [
            [
                "fa155457f55044be"
            ]
        ]
    },
    {
        "id": "81ed49f01cf28d44",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "1933deb7ff3eadde",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": Zipstream strength set to \" + msg.config.zipstream.strength;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1770,
        "y": 1360,
        "wires": [
            [
                "13db624caf1d4844"
            ]
        ]
    },
    {
        "id": "7555546b9876dcb0",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "1933deb7ff3eadde",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": Zipstream min. fps set to \" + msg.config.zipstream.minfps;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1770,
        "y": 1420,
        "wires": [
            [
                "13db624caf1d4844"
            ]
        ]
    },
    {
        "id": "5e2196605e6c356e",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "1933deb7ff3eadde",
        "name": "",
        "scope": [
            "ea8c2266602b9f23",
            "fa155457f55044be",
            "011c4997a1fe16bd"
        ],
        "uncaught": false,
        "x": 1450,
        "y": 1460,
        "wires": [
            [
                "260cd8d309dbc4aa",
                "f9c878b459d8d623"
            ]
        ]
    },
    {
        "id": "7530dafcc53891dd",
        "type": "template",
        "z": "6d42dc07fde7a1cc",
        "g": "4a7b4667bd21c1d6",
        "name": "setIPv4AddressConfiguration",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\n  \"apiVersion\": \"1.0\",\n  \"context\": \"Nodered\",\n  \"method\": \"setIPv4AddressConfiguration\",\n  \"params\": {\n    \"deviceName\": \"eth0\",\n    \"configurationMode\": \"static\",\n    \"staticDefaultRouter\": \"{{payload.router}}\",\n    \"staticAddressConfigurations\": [\n      {\n        \"address\": \"{{payload.address}}\",\n        \"prefixLength\": 24\n      }\n    ]\n  }\n}",
        "output": "json",
        "x": 610,
        "y": 4800,
        "wires": [
            [
                "5a2b786bc50677de"
            ]
        ]
    },
    {
        "id": "5a2b786bc50677de",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "4a7b4667bd21c1d6",
        "name": "/axis-cgi/network_settings.cgi",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Post",
        "cgi": "/axis-cgi/network_settings.cgi",
        "data": "",
        "options": "",
        "filename": "",
        "x": 910,
        "y": 4800,
        "wires": [
            [
                "799bc40350921b34",
                "3ea2f5be3aad0243"
            ]
        ]
    },
    {
        "id": "799bc40350921b34",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "4a7b4667bd21c1d6",
        "name": "Catch error",
        "func": "if( msg.payload.hasOwnProperty(\"error\"))\n    node.error(msg.payload.error.message,msg);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1160,
        "y": 4800,
        "wires": [
            [
                "34f7433f60e56d3c"
            ]
        ]
    },
    {
        "id": "0519aeaffb6a32ab",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "4a7b4667bd21c1d6",
        "name": "Static Address",
        "func": "if( !msg.hasOwnProperty(\"properties\") || !msg.properties  ) {\n    node.send([null,msg]);\n    return;\n}\n\n\nif( !msg.properties.hasOwnProperty(\"static\") || !msg.properties.static || typeof msg.properties.static !== \"object\" ) {\n    node.send([null,msg]);\n    return;\n}\n\n\nif( !msg.properties.static.hasOwnProperty(\"address\") || !msg.properties.static.address || typeof msg.properties.static.address !== \"string\" || msg.properties.static.address < 3 ) {\n    node.error(\"Missing static name\",msg);\n    node.send([null,msg]);\n    return;\n}\n\nif( !msg.properties.static.hasOwnProperty(\"router\") || !msg.properties.static.router || typeof msg.properties.static.router !== \"string\" || msg.properties.static.router < 3 ) {\n    node.error(\"Missing static router\",msg);\n    node.send([null,msg]);\n    return;\n}\n\n\nmsg.payload = {\n    address: msg.properties.static.address,\n    router:  msg.properties.static.router\n}\n\nnode.send([msg],null);\n",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 4800,
        "wires": [
            [
                "7530dafcc53891dd"
            ],
            [
                "bd3c45413f18e25d"
            ]
        ]
    },
    {
        "id": "34f7433f60e56d3c",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "4a7b4667bd21c1d6",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": Static address set to \" + msg.properties.static.address;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1320,
        "y": 4800,
        "wires": [
            [
                "b69e37aa5637dd2a"
            ]
        ]
    },
    {
        "id": "b81af03d9379f830",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "g": "4a7b4667bd21c1d6",
        "name": "Static IPv4",
        "info": "",
        "x": 300,
        "y": 4740,
        "wires": []
    },
    {
        "id": "96bfd8d5f6fe3070",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "4a7b4667bd21c1d6",
        "name": "",
        "scope": [
            "5a2b786bc50677de"
        ],
        "uncaught": false,
        "x": 1140,
        "y": 4860,
        "wires": [
            [
                "cd4752f49798dd90",
                "bdee3a4055f21da5"
            ]
        ]
    },
    {
        "id": "46410f3437543ee2",
        "type": "template",
        "z": "6d42dc07fde7a1cc",
        "g": "3c3934c3ea74823a",
        "name": "Cross-Origin",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\n    \"apiVersion\": \"1.0\",\n    \"context\":\"OptionalContext\",\n    \"method\":\"set\",\n    \"params\":{\n        \"X-Frame-Options\": \"*\",\n        \"Content-Security-Policy\": \"\"\n    }\n}\n",
        "output": "str",
        "x": 470,
        "y": 4380,
        "wires": [
            [
                "69eac9e6a0f41a6d"
            ]
        ]
    },
    {
        "id": "69eac9e6a0f41a6d",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "3c3934c3ea74823a",
        "name": "/axis-cgi/customhttpheader.cgi",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Post",
        "cgi": "/axis-cgi/customhttpheader.cgi",
        "data": "",
        "options": "",
        "filename": "",
        "x": 730,
        "y": 4380,
        "wires": [
            [
                "941ff2dfb30c58dd",
                "b7e6857e747433d9"
            ]
        ]
    },
    {
        "id": "00f076bc84557e4d",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "3c3934c3ea74823a",
        "name": "xframe",
        "func": "if( !msg.config.hasOwnProperty(\"xframe\") || !msg.config.xframe  ) {\n  node.send([null,msg]);\n  return;\n}\nnode.send([msg,null]);\n",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 4380,
        "wires": [
            [
                "46410f3437543ee2"
            ],
            [
                "18dcb337fa652bc5"
            ]
        ]
    },
    {
        "id": "941ff2dfb30c58dd",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "3c3934c3ea74823a",
        "name": "Status",
        "func": "msg.payload = msg.device.serial + \": xframe set\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 4380,
        "wires": [
            [
                "2d135a059bc91f5a"
            ]
        ]
    },
    {
        "id": "16c49a0f32ef9217",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "g": "3c3934c3ea74823a",
        "name": "xFrame.  Enable camer web interface to be included in an HTML iframe",
        "info": "",
        "x": 500,
        "y": 4320,
        "wires": []
    },
    {
        "id": "8e6fc939ca6c468f",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "3c3934c3ea74823a",
        "name": "",
        "scope": [
            "69eac9e6a0f41a6d"
        ],
        "uncaught": false,
        "x": 660,
        "y": 4420,
        "wires": [
            [
                "1df12383b2cb3f3f",
                "b7e6857e747433d9"
            ]
        ]
    },
    {
        "id": "bd2dc70205927cc1",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "f4161a57e9f69912",
        "name": "VAPIX",
        "func": "msg.payload = [];\n\nif (msg.config.hasOwnProperty(\"vapix\") && Array.isArray(msg.config.vapix) && msg.config.length > 0 )\n    msg.payload = msg.payload.concat(msg.config.vapix);\n\nif( msg.properties && msg.properties.hasOwnProperty(\"vapix\") && Array.isArray(msg.properties.vapix) && msg.properties.vapix.length > 0 )\n    msg.payload = msg.payload.concat(msg.properties.vapix);\n\nif ( msg.payload.length === 0 ) {\n    msg.payload = null;\n    node.send([null,msg]);\n    return;\n}\nnode.send([msg],null);\n",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 3720,
        "wires": [
            [
                "6840664d82588302"
            ],
            [
                "168061a5168aef49"
            ]
        ]
    },
    {
        "id": "6840664d82588302",
        "type": "split",
        "z": "6d42dc07fde7a1cc",
        "g": "f4161a57e9f69912",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 480,
        "y": 3720,
        "wires": [
            [
                "f17a08c32bcb4331"
            ]
        ]
    },
    {
        "id": "f17a08c32bcb4331",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "f4161a57e9f69912",
        "name": "function 1",
        "func": "if( !msg.payload.hasOwnProperty(\"method\") ) {\n    node.send([null,null,msg]);\n    return;\n}\n\nif( typeof msg.payload.method !== \"string\" || msg.payload.method.length < 2 ) {\n    node.send([null,null,msg]);\n    return;\n}\n\nif( !msg.payload.hasOwnProperty(\"cgi\") ) {\n    node.send([null,null,msg]);\n    return;\n}\n\nif( typeof msg.payload.cgi !== \"string\" || msg.payload.cgi.length < 5 ) {\n    node.send([null,null,msg]);\n    return;\n}\n\nvar body = null;\nif( msg.payload.hasOwnProperty(\"body\") )\n    body = msg.payload.body;\nif( msg.payload.hasOwnProperty(\"data\") )\n    body = msg.payload.data;\nif( msg.payload.hasOwnProperty(\"payload\") )\n    body = msg.payload.payload;\n\nswitch( msg.payload.method ) {\n    case \"get\":\n        msg.cgi = msg.payload.cgi;\n        node.send([msg,null,null]);\n        break;\n    case \"post\":\n        if(!body) {\n            node.error(\"HTTP Popst body missing\");\n            node.send([null,null,msg]);\n            return;\n        }\n        msg.cgi = msg.payload.cgi;\n        msg.payload = body;\n        node.send([null,msg,null]);\n        break;\n    default:\n        node.send([null,null,msg]);\n        break;\n}\n",
        "outputs": 3,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 3720,
        "wires": [
            [
                "7f61d0b551a0e3fd"
            ],
            [
                "25dc45f69373ae39"
            ],
            [
                "a0db8c4040112551"
            ]
        ]
    },
    {
        "id": "b1b2f1d5517dabd0",
        "type": "join",
        "z": "6d42dc07fde7a1cc",
        "g": "f4161a57e9f69912",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 1160,
        "y": 3820,
        "wires": [
            [
                "a2c238a39f16a2be"
            ]
        ]
    },
    {
        "id": "7f61d0b551a0e3fd",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "f4161a57e9f69912",
        "name": "",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Get",
        "cgi": "",
        "data": "",
        "options": "",
        "filename": "",
        "x": 850,
        "y": 3660,
        "wires": [
            [
                "f05d23e65e4f9c67",
                "b1b2f1d5517dabd0"
            ]
        ]
    },
    {
        "id": "f05d23e65e4f9c67",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "f4161a57e9f69912",
        "name": "Message",
        "func": "msg.response = msg.payload;\nmsg.payload = \"HTTP Get: \" + msg.cgi;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 3660,
        "wires": [
            [
                "7a8a016369547c0d"
            ]
        ]
    },
    {
        "id": "f03854047eb681b2",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "f4161a57e9f69912",
        "name": "",
        "scope": [
            "7f61d0b551a0e3fd"
        ],
        "uncaught": false,
        "x": 840,
        "y": 3700,
        "wires": [
            [
                "b1b2f1d5517dabd0",
                "4210033e5d07d764"
            ]
        ]
    },
    {
        "id": "25dc45f69373ae39",
        "type": "Axis device",
        "z": "6d42dc07fde7a1cc",
        "g": "f4161a57e9f69912",
        "name": "",
        "preset": "1af13a1540441ff9",
        "action": "HTTP Post",
        "cgi": "",
        "data": "",
        "options": "",
        "filename": "",
        "x": 850,
        "y": 3740,
        "wires": [
            [
                "4af4570bb6fc6d81",
                "b1b2f1d5517dabd0"
            ]
        ]
    },
    {
        "id": "4af4570bb6fc6d81",
        "type": "function",
        "z": "6d42dc07fde7a1cc",
        "g": "f4161a57e9f69912",
        "name": "Message",
        "func": "msg.response = msg.payload;\nmsg.payload = \"HTTP Post : \" + msg.cgi;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 3740,
        "wires": [
            [
                "a914e97901ad4b46"
            ]
        ]
    },
    {
        "id": "bd1daafb26529a22",
        "type": "catch",
        "z": "6d42dc07fde7a1cc",
        "g": "f4161a57e9f69912",
        "name": "",
        "scope": [
            "25dc45f69373ae39"
        ],
        "uncaught": false,
        "x": 840,
        "y": 3780,
        "wires": [
            [
                "92d5e426761fce79",
                "b1b2f1d5517dabd0"
            ]
        ]
    },
    {
        "id": "60c74f7046f5d46d",
        "type": "comment",
        "z": "6d42dc07fde7a1cc",
        "g": "f4161a57e9f69912",
        "name": "VAPIX",
        "info": "",
        "x": 290,
        "y": 3640,
        "wires": []
    },
    {
        "id": "ef8068ebc24255c8",
        "type": "link out",
        "z": "6d42dc07fde7a1cc",
        "name": "link out 133",
        "mode": "link",
        "links": [
            "fd813139961b13e6"
        ],
        "x": 2255,
        "y": 2280,
        "wires": []
    },
    {
        "id": "ab4e9cb6a96e757f",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "9de2a8dc468dc27d",
        "x": 810,
        "y": 380,
        "wires": [
            [
                "3b62128532d5aeb9"
            ]
        ]
    },
    {
        "id": "3d59d6f75fe13c73",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "160292bcf3ba9f12",
        "x": 390,
        "y": 960,
        "wires": [
            [
                "bc28372692a805f6"
            ]
        ]
    },
    {
        "id": "bc28372692a805f6",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "160292bcf3ba9f12",
        "x": 610,
        "y": 960,
        "wires": [
            [
                "c53bd50812c8963c"
            ]
        ]
    },
    {
        "id": "93ec3d32460c577e",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "1f6d3d3e06abb06d",
        "x": 480,
        "y": 640,
        "wires": [
            [
                "816b3d705c37daf1"
            ]
        ]
    },
    {
        "id": "c2c49c801ea1640f",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "1f6d3d3e06abb06d",
        "x": 850,
        "y": 720,
        "wires": [
            [
                "7fc27822820e9d52"
            ]
        ]
    },
    {
        "id": "7fc27822820e9d52",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "1f6d3d3e06abb06d",
        "x": 1050,
        "y": 720,
        "wires": [
            [
                "6a23745199b4164d"
            ]
        ]
    },
    {
        "id": "284779d89bfd4a43",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "1f6d3d3e06abb06d",
        "x": 1160,
        "y": 600,
        "wires": [
            [
                "86f6386639b15843"
            ]
        ]
    },
    {
        "id": "31d383d63c33f420",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "x": 1620,
        "y": 4100,
        "wires": [
            [
                "e9fd1c3655856e43"
            ]
        ]
    },
    {
        "id": "16576f7d68a705e6",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "x": 1460,
        "y": 3080,
        "wires": [
            [
                "711c5fb20e6126f1"
            ]
        ]
    },
    {
        "id": "711c5fb20e6126f1",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "x": 1860,
        "y": 3080,
        "wires": [
            [
                "464ce93ffda28994"
            ]
        ]
    },
    {
        "id": "bdee3a4055f21da5",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "x": 1260,
        "y": 4900,
        "wires": [
            [
                "a7749da08ce3e47f"
            ]
        ]
    },
    {
        "id": "b64a7c8998efe968",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "878547f1f933f691",
        "x": 430,
        "y": 3540,
        "wires": [
            [
                "bcf88a0d194fa8ac"
            ]
        ]
    },
    {
        "id": "633ff13636e34f92",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "878547f1f933f691",
        "x": 1040,
        "y": 3540,
        "wires": [
            [
                "47877e93b965e9a8"
            ]
        ]
    },
    {
        "id": "bcf88a0d194fa8ac",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "878547f1f933f691",
        "x": 760,
        "y": 3540,
        "wires": [
            [
                "633ff13636e34f92"
            ]
        ]
    },
    {
        "id": "47877e93b965e9a8",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "878547f1f933f691",
        "x": 1180,
        "y": 3540,
        "wires": [
            [
                "e9a28492cbc07c97"
            ]
        ]
    },
    {
        "id": "12f839fe2497cf76",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "x": 490,
        "y": 3300,
        "wires": [
            [
                "2ed6a35e2274ba70"
            ]
        ]
    },
    {
        "id": "347da8252a7d9ad3",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "x": 1580,
        "y": 3300,
        "wires": [
            [
                "a7660a3c4da81c88"
            ]
        ]
    },
    {
        "id": "a7660a3c4da81c88",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "x": 1860,
        "y": 3300,
        "wires": [
            [
                "5cf384a5b9bb0252"
            ]
        ]
    },
    {
        "id": "3aa917053636ca53",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "x": 2080,
        "y": 3040,
        "wires": [
            [
                "4ce411a28344825f"
            ]
        ]
    },
    {
        "id": "2ed6a35e2274ba70",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "x": 860,
        "y": 3300,
        "wires": [
            [
                "edcbe2a57ce6ea14"
            ]
        ]
    },
    {
        "id": "edcbe2a57ce6ea14",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "d2e109e932e6a4f6",
        "x": 1400,
        "y": 3300,
        "wires": [
            [
                "347da8252a7d9ad3"
            ]
        ]
    },
    {
        "id": "59d27d3ea2d4733d",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "1953762ac38bb0d3",
        "x": 410,
        "y": 4220,
        "wires": [
            [
                "baa24b3bc35e63a3"
            ]
        ]
    },
    {
        "id": "baa24b3bc35e63a3",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "1953762ac38bb0d3",
        "x": 1650,
        "y": 4220,
        "wires": [
            [
                "3c01a4d5f30ce4dc"
            ]
        ]
    },
    {
        "id": "d972bfe7766bfa02",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "a15eb02dd6151895",
        "x": 420,
        "y": 1740,
        "wires": [
            [
                "370fa3704cd99ac5"
            ]
        ]
    },
    {
        "id": "370fa3704cd99ac5",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "a15eb02dd6151895",
        "x": 1540,
        "y": 1740,
        "wires": [
            [
                "d80a8f47d3d799b0"
            ]
        ]
    },
    {
        "id": "adfe9f5b1f98f291",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "x": 1080,
        "y": 2040,
        "wires": [
            [
                "2ef7ce92fc89fc13"
            ]
        ]
    },
    {
        "id": "d794a97c1365145b",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "x": 560,
        "y": 1980,
        "wires": [
            [
                "4844602462f72b66"
            ]
        ]
    },
    {
        "id": "3fd84cd20d0852ba",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "x": 1680,
        "y": 2100,
        "wires": [
            [
                "2ac63accaaf355d0"
            ]
        ]
    },
    {
        "id": "2ac63accaaf355d0",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "x": 2080,
        "y": 2100,
        "wires": [
            [
                "3562c80791500f10"
            ]
        ]
    },
    {
        "id": "a812f9ecd7ae490f",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "fa370aefd83bf906",
        "x": 2220,
        "y": 1920,
        "wires": [
            [
                "b394e947f04ed845"
            ]
        ]
    },
    {
        "id": "967fa300c2ed0ce4",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "2912ca819ea75932",
        "x": 440,
        "y": 2560,
        "wires": [
            [
                "58283b019b1e442c"
            ]
        ]
    },
    {
        "id": "4fd4c32320317ef7",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "2912ca819ea75932",
        "x": 1060,
        "y": 2640,
        "wires": [
            [
                "1cc9a1f8ddbc7504"
            ]
        ]
    },
    {
        "id": "1e797be3d18f9d48",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "2912ca819ea75932",
        "x": 1640,
        "y": 2520,
        "wires": [
            [
                "2c09d5934cbea73d"
            ]
        ]
    },
    {
        "id": "1cc9a1f8ddbc7504",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "2912ca819ea75932",
        "x": 1480,
        "y": 2640,
        "wires": [
            [
                "9eed0310146136c7"
            ]
        ]
    },
    {
        "id": "8ac371adb458e19a",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "f1e75b99720e2f15",
        "x": 440,
        "y": 2360,
        "wires": [
            [
                "3144ea6575214de4"
            ]
        ]
    },
    {
        "id": "3144ea6575214de4",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "f1e75b99720e2f15",
        "x": 1220,
        "y": 2360,
        "wires": [
            [
                "c7b2f58973e299dd"
            ]
        ]
    },
    {
        "id": "c7b2f58973e299dd",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "f1e75b99720e2f15",
        "x": 2060,
        "y": 2360,
        "wires": [
            [
                "76f8a7270ae91234"
            ]
        ]
    },
    {
        "id": "0e2b2a42db7642e3",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "326dbc0c961f423c",
        "x": 460,
        "y": 2880,
        "wires": [
            [
                "48261a179849bb0f"
            ]
        ]
    },
    {
        "id": "48261a179849bb0f",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "326dbc0c961f423c",
        "x": 1340,
        "y": 2880,
        "wires": [
            [
                "7b9b40ec8878d8de"
            ]
        ]
    },
    {
        "id": "6a4600d7f91a431d",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "338bb004483233bf",
        "x": 460,
        "y": 1200,
        "wires": [
            [
                "e739e9bc45f8ccd6"
            ]
        ]
    },
    {
        "id": "e739e9bc45f8ccd6",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "338bb004483233bf",
        "x": 640,
        "y": 1200,
        "wires": [
            [
                "5e10479e0acef175"
            ]
        ]
    },
    {
        "id": "10e579a4e26e6132",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "1933deb7ff3eadde",
        "x": 420,
        "y": 1500,
        "wires": [
            [
                "ad70245c4bf78dfc"
            ]
        ]
    },
    {
        "id": "ad70245c4bf78dfc",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "1933deb7ff3eadde",
        "x": 880,
        "y": 1500,
        "wires": [
            [
                "f9c878b459d8d623"
            ]
        ]
    },
    {
        "id": "f9c878b459d8d623",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "1933deb7ff3eadde",
        "x": 1720,
        "y": 1500,
        "wires": [
            [
                "4da11a689f97605a"
            ]
        ]
    },
    {
        "id": "13db624caf1d4844",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "1933deb7ff3eadde",
        "x": 1860,
        "y": 1360,
        "wires": [
            [
                "1ed901bb2d60f372"
            ]
        ]
    },
    {
        "id": "bd3c45413f18e25d",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "4a7b4667bd21c1d6",
        "x": 450,
        "y": 4900,
        "wires": [
            [
                "3ea2f5be3aad0243"
            ]
        ]
    },
    {
        "id": "3ea2f5be3aad0243",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "4a7b4667bd21c1d6",
        "x": 1090,
        "y": 4900,
        "wires": [
            [
                "bdee3a4055f21da5"
            ]
        ]
    },
    {
        "id": "18dcb337fa652bc5",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "3c3934c3ea74823a",
        "x": 400,
        "y": 4480,
        "wires": [
            [
                "b7e6857e747433d9"
            ]
        ]
    },
    {
        "id": "b7e6857e747433d9",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "3c3934c3ea74823a",
        "x": 920,
        "y": 4480,
        "wires": [
            [
                "6a78770127e625ae"
            ]
        ]
    },
    {
        "id": "168061a5168aef49",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "f4161a57e9f69912",
        "x": 410,
        "y": 3860,
        "wires": [
            [
                "a2c238a39f16a2be"
            ]
        ]
    },
    {
        "id": "a0db8c4040112551",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "f4161a57e9f69912",
        "x": 790,
        "y": 3820,
        "wires": [
            [
                "b1b2f1d5517dabd0"
            ]
        ]
    },
    {
        "id": "a2c238a39f16a2be",
        "type": "junction",
        "z": "6d42dc07fde7a1cc",
        "g": "f4161a57e9f69912",
        "x": 1270,
        "y": 3860,
        "wires": [
            [
                "ea24bf485d2452ad"
            ]
        ]
    },
    {
        "id": "9de2a8dc468dc27d",
        "type": "group",
        "z": "6d42dc07fde7a1cc",
        "name": "",
        "style": {
            "stroke": "#000000",
            "fill": "#ffffbf",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "2a92c1df94c52f99",
            "eb82c7d924529a7d",
            "2378dac01bc66cbe",
            "e835de82705c59d4",
            "7b07172630012798",
            "04da01c2a62e70c1",
            "b5a396e8af47cbce",
            "53c4af674a2ad7e9",
            "f9a8b6191b7a9e32",
            "7babae1036c352ba",
            "ab4e9cb6a96e757f",
            "383b9a93f24e6216",
            "e149251e9b5c44f8"
        ],
        "x": 214,
        "y": 159,
        "w": 882,
        "h": 302
    },
    {
        "id": "160292bcf3ba9f12",
        "type": "group",
        "z": "6d42dc07fde7a1cc",
        "name": "",
        "style": {
            "label": true,
            "stroke": "#000000",
            "fill": "#ffffbf",
            "color": "#000000"
        },
        "nodes": [
            "1a542f4711a04456",
            "8de8c2c2aff671bc",
            "3d59d6f75fe13c73",
            "bc28372692a805f6",
            "661d3411a2dc597f",
            "6a05cec52d783c6c",
            "610f047bdc918815"
        ],
        "x": 214,
        "y": 779,
        "w": 522,
        "h": 207
    },
    {
        "id": "1f6d3d3e06abb06d",
        "type": "group",
        "z": "6d42dc07fde7a1cc",
        "name": "",
        "style": {
            "stroke": "#000000",
            "fill": "#ffffbf",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "0cd25956a30d47e8",
            "3c7fdce98cf5e740",
            "816b3d705c37daf1",
            "3481d23edbeba3b3",
            "0f99dc9a93c644e0",
            "93ec3d32460c577e",
            "c2c49c801ea1640f",
            "7fc27822820e9d52",
            "e52173e99d75688f",
            "284779d89bfd4a43",
            "f429dd5d45654cb8"
        ],
        "x": 214,
        "y": 499,
        "w": 972,
        "h": 247
    },
    {
        "id": "878547f1f933f691",
        "type": "group",
        "z": "6d42dc07fde7a1cc",
        "name": "",
        "style": {
            "stroke": "#000000",
            "fill": "#ffffbf",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "030a9348712c048a",
            "5aef23bab05b5a72",
            "fecb8e603a93a257",
            "7803818ab6b4932c",
            "b64a7c8998efe968",
            "633ff13636e34f92",
            "cb66d780563dc109",
            "78c39c77f39891b3",
            "bcf88a0d194fa8ac",
            "68883fc0f0a9157d",
            "5d0146fb50ee2af3",
            "027c26ec0932cdfb",
            "47877e93b965e9a8"
        ],
        "x": 214,
        "y": 3359,
        "w": 1092,
        "h": 207
    },
    {
        "id": "d2e109e932e6a4f6",
        "type": "group",
        "z": "6d42dc07fde7a1cc",
        "name": "",
        "style": {
            "label": true,
            "stroke": "#000000",
            "fill": "#ffffbf",
            "color": "#000000"
        },
        "nodes": [
            "74a004169565cd56",
            "6c74ab2a203fa606",
            "fc1376b62a23eefd",
            "76ae8d67fdcd22fa",
            "e64c7fed7370171f",
            "deb641bd583c130a",
            "12f839fe2497cf76",
            "39f288909c2be1a6",
            "9a1c63cddd15499f",
            "347da8252a7d9ad3",
            "a7660a3c4da81c88",
            "14be1966f37fc9e7",
            "2ec21ce9eaf26f6a",
            "919628f28aa312ab",
            "3aa917053636ca53",
            "89acce27ec20ac08",
            "2ed6a35e2274ba70",
            "89f1fcfa4b18382c",
            "edcbe2a57ce6ea14",
            "93828c66e66de62f"
        ],
        "x": 214,
        "y": 2939,
        "w": 1892,
        "h": 387
    },
    {
        "id": "1953762ac38bb0d3",
        "type": "group",
        "z": "6d42dc07fde7a1cc",
        "name": "",
        "style": {
            "stroke": "#000000",
            "fill": "#ffffbf",
            "label": true,
            "color": "#ffffbf"
        },
        "nodes": [
            "571d5564b6822e05",
            "a221d6130cdc4aff",
            "afcc4cfea42bd207",
            "32da1f57187bf991",
            "c5a64676e3f4b156",
            "aec047f483a376f8",
            "2c6497073f8ce4c3",
            "62f9f07d857b02fe",
            "35c5a6b727f05f5a",
            "a7660b6210a5e948",
            "e4efd2a24a7351fb",
            "59d27d3ea2d4733d",
            "baa24b3bc35e63a3",
            "2a8db98a938a636a",
            "086f07b147b55864",
            "61190f8594d5d627"
        ],
        "x": 214,
        "y": 3919,
        "w": 1462,
        "h": 327
    },
    {
        "id": "a15eb02dd6151895",
        "type": "group",
        "z": "6d42dc07fde7a1cc",
        "name": "",
        "style": {
            "stroke": "#000000",
            "fill": "#ffffbf",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "693fe30c3d74aead",
            "511db8aa7b2ae63c",
            "576983bcb808ca33",
            "58d10a461aa25dfc",
            "03f749aad191fcf2",
            "20b23c47a5c6fb7a",
            "3bfb1bc5a586513b",
            "6c5e4ccc719f9a37",
            "d972bfe7766bfa02",
            "370fa3704cd99ac5",
            "a595e32593518ec7",
            "40500ec1e46495d4"
        ],
        "x": 214,
        "y": 1559,
        "w": 1472,
        "h": 207
    },
    {
        "id": "fa370aefd83bf906",
        "type": "group",
        "z": "6d42dc07fde7a1cc",
        "name": "",
        "style": {
            "fill": "#ffffbf",
            "label": true
        },
        "nodes": [
            "5d7f5ab340a00899",
            "820447d28dd65e6d",
            "df540bb799978f8d",
            "e68131f25f305dbc",
            "86efebace50443d4",
            "4844602462f72b66",
            "6a8f742a6d957345",
            "0317d8d41aa7fe63",
            "adfe9f5b1f98f291",
            "5bcc63fac3444e05",
            "8406be40f6cadb4e",
            "d794a97c1365145b",
            "2ef7ce92fc89fc13",
            "c873ce0087f68b0f",
            "b2544e6eb11cc841",
            "028d5725c0e823ce",
            "3fd84cd20d0852ba",
            "2633249bf3fe0c36",
            "34bfcf81ce3692a0",
            "df6fb40b13f50a4e",
            "2ac63accaaf355d0",
            "56e842eba499439a",
            "f0e65a4e8be1ae92",
            "a812f9ecd7ae490f",
            "e80276dcd14ff149"
        ],
        "x": 214,
        "y": 1819,
        "w": 2032,
        "h": 322
    },
    {
        "id": "2912ca819ea75932",
        "type": "group",
        "z": "6d42dc07fde7a1cc",
        "name": "",
        "style": {
            "label": true,
            "stroke": "#000000",
            "fill": "#ffffbf",
            "color": "#000000"
        },
        "nodes": [
            "9970da01932a8eb2",
            "3231e8cef08aac34",
            "cef5c7779a13f864",
            "b0151bf154361e5b",
            "6a139b39692dc587",
            "8d7d459145217f85",
            "58283b019b1e442c",
            "967fa300c2ed0ce4",
            "4fd4c32320317ef7",
            "15bd0e9461e4e179",
            "1e797be3d18f9d48",
            "1cc9a1f8ddbc7504",
            "c0b9f51ce31b93f0",
            "5053a566fa457deb"
        ],
        "x": 214,
        "y": 2419,
        "w": 1452,
        "h": 247
    },
    {
        "id": "f1e75b99720e2f15",
        "type": "group",
        "z": "6d42dc07fde7a1cc",
        "name": "",
        "style": {
            "label": true,
            "stroke": "#000000",
            "fill": "#ffffbf",
            "color": "#000000"
        },
        "nodes": [
            "6218173283032800",
            "6a25259cc40ece1a",
            "46dd615907c43611",
            "ae7c315f62ac1acc",
            "17feca49f82741f6",
            "f490db2d1998009e",
            "39bac37268952e3b",
            "ec2246e47aaee944",
            "45f2230a4f8dab0a",
            "6e3d6ce43827e4dc",
            "8ac371adb458e19a",
            "3144ea6575214de4",
            "fac435475ef2929c",
            "c7b2f58973e299dd",
            "33ae5c0a60c7d988",
            "a88d34d8ddbf7594"
        ],
        "x": 214,
        "y": 2179,
        "w": 1972,
        "h": 207
    },
    {
        "id": "326dbc0c961f423c",
        "type": "group",
        "z": "6d42dc07fde7a1cc",
        "name": "",
        "style": {
            "stroke": "#000000",
            "fill": "#ffffbf",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "6e3b12f36c6c7d0d",
            "8f33dab30be8e23b",
            "2916c126ba818149",
            "c66f5e2adf919048",
            "7868cd5d5332805d",
            "0e2b2a42db7642e3",
            "48261a179849bb0f",
            "e3859f8f21a610b7",
            "ec288ae76170cd38",
            "b3214c22643b0153"
        ],
        "x": 214,
        "y": 2699,
        "w": 1152,
        "h": 207
    },
    {
        "id": "338bb004483233bf",
        "type": "group",
        "z": "6d42dc07fde7a1cc",
        "name": "",
        "style": {
            "stroke": "#000000",
            "fill": "#ffffbf",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "70fd3e155b2b5b9c",
            "ec136e844c972d65",
            "8608f4e00a9fd863",
            "6a4600d7f91a431d",
            "c78081407c8b606f",
            "e739e9bc45f8ccd6",
            "ba8593c3bbcc71f7"
        ],
        "x": 214,
        "y": 1019,
        "w": 552,
        "h": 207
    },
    {
        "id": "1933deb7ff3eadde",
        "type": "group",
        "z": "6d42dc07fde7a1cc",
        "name": "",
        "style": {
            "stroke": "#000000",
            "fill": "#ffffbf",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "7c4a3806b8270e77",
            "ea8c2266602b9f23",
            "11a2c8bdea45eed8",
            "07c5b3bc32a9ef55",
            "fa155457f55044be",
            "011c4997a1fe16bd",
            "b8e2a457bac6e713",
            "10e579a4e26e6132",
            "ad70245c4bf78dfc",
            "f9c878b459d8d623",
            "81ed49f01cf28d44",
            "7555546b9876dcb0",
            "13db624caf1d4844",
            "5e2196605e6c356e"
        ],
        "x": 214,
        "y": 1259,
        "w": 1672,
        "h": 267
    },
    {
        "id": "4a7b4667bd21c1d6",
        "type": "group",
        "z": "6d42dc07fde7a1cc",
        "name": "",
        "style": {
            "stroke": "#000000",
            "fill": "#ffffbf",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "7530dafcc53891dd",
            "5a2b786bc50677de",
            "799bc40350921b34",
            "0519aeaffb6a32ab",
            "34f7433f60e56d3c",
            "b81af03d9379f830",
            "bd3c45413f18e25d",
            "3ea2f5be3aad0243",
            "96bfd8d5f6fe3070"
        ],
        "x": 214,
        "y": 4699,
        "w": 1182,
        "h": 227
    },
    {
        "id": "3c3934c3ea74823a",
        "type": "group",
        "z": "6d42dc07fde7a1cc",
        "name": "",
        "style": {
            "stroke": "#000000",
            "fill": "#ffffbf",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "46410f3437543ee2",
            "69eac9e6a0f41a6d",
            "00f076bc84557e4d",
            "941ff2dfb30c58dd",
            "18dcb337fa652bc5",
            "b7e6857e747433d9",
            "16c49a0f32ef9217",
            "8e6fc939ca6c468f"
        ],
        "x": 224,
        "y": 4279,
        "w": 842,
        "h": 227
    },
    {
        "id": "f4161a57e9f69912",
        "type": "group",
        "z": "6d42dc07fde7a1cc",
        "name": "",
        "style": {
            "stroke": "#000000",
            "fill": "#ffffbf",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "bd2dc70205927cc1",
            "6840664d82588302",
            "f17a08c32bcb4331",
            "b1b2f1d5517dabd0",
            "7f61d0b551a0e3fd",
            "f05d23e65e4f9c67",
            "f03854047eb681b2",
            "25dc45f69373ae39",
            "4af4570bb6fc6d81",
            "bd1daafb26529a22",
            "168061a5168aef49",
            "a0db8c4040112551",
            "a2c238a39f16a2be",
            "60c74f7046f5d46d"
        ],
        "x": 214,
        "y": 3599,
        "w": 1082,
        "h": 287
    },
    {
        "id": "1af13a1540441ff9",
        "type": "Device Access",
        "name": "Provision",
        "address": "",
        "protocol": "http"
    },
    {
        "id": "97a054e1f9fc6e45",
        "type": "subflow:6d42dc07fde7a1cc",
        "z": "bf2c986ad16b9713",
        "name": "",
        "x": 740,
        "y": 360,
        "wires": [
            [
                "2c18a8b2f65ad7f8"
            ],
            [
                "71f89d7d9a2b5b12"
            ],
            [
                "4eb97279f932e5f7"
            ]
        ]
    }
]
